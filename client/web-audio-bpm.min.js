!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.webAudioBeatDetector=a.webAudioBeatDetector||{})}(this,function(a){"use strict";function b(a,b){return b={exports:{}},a(b,b.exports),b.exports}function c(a){Zone.current.scheduleMicroTask("scheduleMicrotask",a)}function d(a){return a.name||("undefined"==typeof a?"undefined":Rg(a))}function e(a){return null!=a}function f(a){return null==a}function g(a){if("string"==typeof a)return a;if(null==a)return""+a;if(a.overriddenName)return""+a.overriddenName;if(a.name)return""+a.name;var b=a.toString(),c=b.indexOf("\n");return c===-1?b:b.substring(0,c)}function h(a,b){return a===b||"number"==typeof a&&"number"==typeof b&&isNaN(a)&&isNaN(b)}function i(a){return null!==a&&("function"==typeof a||"object"===("undefined"==typeof a?"undefined":Rg(a)))}function j(a){console.log(a)}function k(a){console.warn(a)}function l(){if(!Tg)if(Qg.Symbol&&Symbol.iterator)Tg=Symbol.iterator;else for(var a=Object.getOwnPropertyNames(Map.prototype),b=0;b<a.length;++b){var c=a[b];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Tg=c)}return Tg}function m(a){return"function"==typeof a&&a.hasOwnProperty("annotation")&&(a=a.annotation),a}function n(a,b){if(a===Object||a===String||a===Function||a===Number||a===Array)throw new Error("Can not use native "+g(a)+" as constructor");if("function"==typeof a)return a;if(Array.isArray(a)){var c=a,d=c.length-1,e=a[d];if("function"!=typeof e)throw new Error("Last position of Class method array must be Function in key "+b+" was '"+g(e)+"'");if(d!=e.length)throw new Error("Number of annotations ("+d+") does not match number of arguments ("+e.length+") in the function: "+g(e));for(var f=[],h=0,i=c.length-1;h<i;h++){var j=[];f.push(j);var k=c[h];if(Array.isArray(k))for(var l=0;l<k.length;l++)j.push(m(k[l]));else"function"==typeof k?j.push(m(k)):j.push(k)}return Vg.defineMetadata("parameters",f,e),e}throw new Error("Only Function or Array is supported in Class definition for key '"+b+"' is '"+g(a)+"'")}function o(a){var b=n(a.hasOwnProperty("constructor")?a.constructor:void 0,"constructor"),c=b.prototype;if(a.hasOwnProperty("extends")){if("function"!=typeof a.extends)throw new Error("Class definition 'extends' property must be a constructor function was: "+g(a.extends));b.prototype=c=Object.create(a.extends.prototype)}for(var d in a)"extends"!==d&&"prototype"!==d&&a.hasOwnProperty(d)&&(c[d]=n(a[d],d));this&&this.annotations instanceof Array&&Vg.defineMetadata("annotations",this.annotations,b);var e=b.name;return e&&"constructor"!==e||(b.overriddenName="class"+Ug++),b}function p(a,b,c,d){function e(a){if(!Vg||!Vg.getOwnMetadata)throw"reflect-metadata shim is required when using class decorators";if(this instanceof e)return f.call(this,a),this;var b=new e(a),c="function"==typeof this&&Array.isArray(this.annotations)?this.annotations:[];c.push(b);var g=function(a){var c=Vg.getOwnMetadata("annotations",a)||[];return c.push(b),Vg.defineMetadata("annotations",c,a),a};return g.annotations=c,g.Class=o,d&&d(g),g}void 0===d&&(d=null);var f=q([b]);return c&&(e.prototype=Object.create(c.prototype)),e.prototype.toString=function(){return"@"+a},e.annotationCls=e,e}function q(a){return function(){for(var b=this,c=[],d=0;d<arguments.length;d++)c[d-0]=arguments[d];a.forEach(function(a,d){var e=c[d];if(Array.isArray(a))b[a[0]]=void 0===e?a[1]:e;else for(var f in a)b[f]=e&&e.hasOwnProperty(f)?e[f]:a[f]})}}function r(a,b,c){function d(){function a(a,b,c){for(var d=Vg.getOwnMetadata("parameters",a)||[];d.length<=c;)d.push(null);return d[c]=d[c]||[],d[c].push(f),Vg.defineMetadata("parameters",d,a),a}for(var b=[],c=0;c<arguments.length;c++)b[c-0]=arguments[c];if(this instanceof d)return e.apply(this,b),this;var f=new((g=d).bind.apply(g,[void 0].concat(b)));return a.annotation=f,a;var g}var e=q(b);return c&&(d.prototype=Object.create(c.prototype)),d.prototype.toString=function(){return"@"+a},d.annotationCls=d,d}function s(a){return a.__forward_ref__=s,a.toString=function(){return g(this())},a}function t(a){return"function"==typeof a&&a.hasOwnProperty("__forward_ref__")&&a.__forward_ref__===s?a():a}function u(){throw new Error("unimplemented")}function v(a){for(var b=[],c=0;c<a.length;++c){if(b.indexOf(a[c])>-1)return b.push(a[c]),b;b.push(a[c])}return b}function w(a){if(a.length>1){var b=v(a.slice().reverse()),c=b.map(function(a){return g(a.token)});return" ("+c.join(" -> ")+")"}return""}function x(a){return"function"==typeof a}function y(a){return a?a.map(function(a){var b=a.type,c=b.annotationCls,d=a.args?a.args:[];return new(c.bind.apply(c,[void 0].concat(d)))}):[]}function z(a){var b=Object.getPrototypeOf(a.prototype),c=b?b.constructor:null;return c||Object}function A(a){var b,c;if(a.useClass){var d=t(a.useClass);b=Kh.factory(d),c=G(d)}else a.useExisting?(b=function(a){return a},c=[Mh.fromKey(Ah.get(a.useExisting))]):a.useFactory?(b=a.useFactory,c=F(a.useFactory,a.deps)):(b=function(){return a.useValue},c=Nh);return new Ph(b,c)}function B(a){return new Oh(Ah.get(a.provide),[A(a)],a.multi)}function C(a){var b=E(a,[]),c=b.map(B),d=D(c,new Map);return Array.from(d.values())}function D(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=b.get(d.key.id);if(e){if(d.multiProvider!==e.multiProvider)throw new zh(e,d);if(d.multiProvider)for(var f=0;f<d.resolvedFactories.length;f++)e.resolvedFactories.push(d.resolvedFactories[f]);else b.set(d.key.id,d)}else{var g=void 0;g=d.multiProvider?new Oh(d.key,d.resolvedFactories.slice(),d.multiProvider):d,b.set(d.key.id,g)}}return b}function E(a,b){return a.forEach(function(a){if(a instanceof Dh)b.push({provide:a,useClass:a});else if(a&&"object"==("undefined"==typeof a?"undefined":Lh(a))&&void 0!==a.provide)b.push(a);else{if(!(a instanceof Array))throw new wh(a);E(a,b)}}),b}function F(a,b){if(b){var c=b.map(function(a){return[a]});return b.map(function(b){return H(a,b,c)})}return G(a)}function G(a){var b=Kh.parameters(a);if(!b)return[];if(b.some(function(a){return null==a}))throw new xh(a,b);return b.map(function(c){return H(a,c,b)})}function H(a,b,c){var d=[],e=null,f=!1;if(!Array.isArray(b))return b instanceof Wg?I(b.token,f,null,null,d):I(b,f,null,null,d);for(var g=null,h=null,i=0;i<b.length;++i){var j=b[i];j instanceof Dh?e=j:j instanceof Wg?e=j.token:j instanceof Xg?f=!0:j instanceof Zg?h=j:j instanceof _g?h=j:j instanceof $g&&(g=j)}if(e=t(e),null!=e)return I(e,f,g,h,d);throw new xh(a,c)}function I(a,b,c,d,e){return new Mh(Ah.get(a),b,c,d,e)}function J(a,b){for(var c=new Array(a._proto.numberOfProviders),d=0;d<a._proto.numberOfProviders;++d)c[d]=b(a._proto.getProviderAtIndex(d));return c}function K(a){return!!i(a)&&(Array.isArray(a)||!(a instanceof Map)&&l()in a)}function L(a,b){if(Array.isArray(a))for(var c=0;c<a.length;c++)b(a[c]);else for(var d=a[l()](),e=void 0;!(e=d.next()).done;)b(e.value)}function M(a){return!!a&&"function"==typeof a.then}function N(){return""+O()+O()+O()}function O(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function P(){throw new Error("Runtime compiler is not loaded")}function Q(a){return"function"==typeof a}function R(a){return null!=a&&"object"===("undefined"==typeof a?"undefined":qi(a))}function S(){try{return dh.apply(this,arguments)}catch(a){return vi.errorObject.e=a,vi.errorObject}}function T(a){return dh=a,S}function U(a){return a.reduce(function(a,b){return a.concat(b instanceof Ji.UnsubscriptionError?b.errors:b)},[])}function V(a,b,c){if(a){if(a instanceof dj.Subscriber)return a;if(a[ej.$$rxSubscriber])return a[ej.$$rxSubscriber]()}return a||b||c?new dj.Subscriber(a,b,c):new dj.Subscriber(fj.empty)}function W(a){var b,c=a.Symbol;return"function"==typeof c?c.observable?b=c.observable:(b=c("observable"),c.observable=b):b="@@observable",b}function X(a,b,c){var d=a.previousIndex;if(null===d)return d;var e=0;return c&&d<c.length&&(e=c[d]),d+b+e}function Y(a,b){b.push(a)}function Z(){var a=Sg.wtf;return!(!a||!(eh=a.trace))&&(fh=eh.events,!0)}function $(a,b){return void 0===b&&(b=null),fh.createScope(a,b)}function _(a,b){return eh.leaveScope(a,b),b}function aa(a,b){return null}function ba(){return Fk=!0,Ek}function ca(a){if(gh&&!gh.destroyed)throw new Error("There can be only one platform. Destroy the previous one to create a new one.");gh=a.get(Gk);var b=a.get(ei,null);return b&&b.forEach(function(a){return a()}),gh}function da(a,b,c){void 0===c&&(c=[]);var d=new ah("Platform: "+b);return function(b){return void 0===b&&(b=[]),fa()||(a?a(c.concat(b).concat({provide:d,useValue:!0})):ca(Xh.resolveAndCreate(c.concat(b).concat({provide:d,useValue:!0})))),ea(d)}}function ea(a){var b=fa();if(!b)throw new Error("No platform exists!");if(!b.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return b}function fa(){return gh&&!gh.destroyed?gh:null}function ga(a,b){try{var c=b();return M(c)?c.catch(function(b){throw a.handleError(b),b}):c}catch(b){throw a.handleError(b),b}}function ha(a,b,c){a.childNodes.forEach(function(a){a instanceof Uk&&(b(a)&&c.push(a),ha(a,b,c))})}function ia(a,b,c){a instanceof Uk&&a.childNodes.forEach(function(a){b(a)&&c.push(a),a instanceof Uk&&ia(a,b,c)})}function ja(){return Kh}function ka(){return ek}function la(){return fk}function ma(a){return a||"en-US"}function na(a,b){a instanceof Xk||a instanceof Zk?a.players.forEach(function(a){return na(a,b)}):b.push(a)}function oa(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function pa(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function qa(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ra(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function sa(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ta(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function ua(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function va(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function wa(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function xa(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function ya(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function za(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function Aa(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Ba(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ca(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function Da(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Ea(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Fa(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ga(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function Ha(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Ia(a,b){var c=b[0]*b[0]+b[1]*b[1];return[(a[0]*b[0]+a[1]*b[1])/c,(a[1]*b[0]-a[0]*b[1])/c]}function Ja(a,b){return[a[0]*b[0]-a[1]*b[1],a[0]*b[1]+a[1]*b[0]]}function Ka(a,b){for(var c=[0,0],d=a.length-1;d>=0;d-=1)c=Ja(c,b),c[0]+=a[d];return c}function La(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ma(a,b){var c=b[0]*b[0]+b[1]*b[1];return[(a[0]*b[0]+a[1]*b[1])/c,(a[1]*b[0]-a[0]*b[1])/c]}function Na(a,b){return[a[0]*b[0]-a[1]*b[1],a[0]*b[1]+a[1]*b[0]]}function Oa(a,b){for(var c=[0,0],d=a.length-1;d>=0;d-=1)c=Na(c,b),c[0]+=a[d];return c}function Pa(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Qa(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ra(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Sa(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ta(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ua(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Va(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Wa(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Xa(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ya(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Za(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function $a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ab(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},cb=function(a){return"object"===("undefined"==typeof a?"undefined":bb(a))?null!==a:"function"==typeof a},db=cb,eb=function(a){if(!db(a))throw TypeError(a+" is not an object!");return a},fb=function(a){try{return!!a()}catch(a){return!0}},gb=!fb(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),hb="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ib=b(function(a){var b=a.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=b)}),jb=cb,kb=ib.document,lb=jb(kb)&&jb(kb.createElement),mb=function(a){return lb?kb.createElement(a):{}},nb=!gb&&!fb(function(){return 7!=Object.defineProperty(mb("div"),"a",{get:function(){return 7}}).a}),ob=cb,pb=function(a,b){if(!ob(a))return a;var c,d;if(b&&"function"==typeof(c=a.toString)&&!ob(d=c.call(a)))return d;if("function"==typeof(c=a.valueOf)&&!ob(d=c.call(a)))return d;if(!b&&"function"==typeof(c=a.toString)&&!ob(d=c.call(a)))return d;throw TypeError("Can't convert object to primitive value")},qb=eb,rb=nb,sb=pb,tb=Object.defineProperty,ub=gb?Object.defineProperty:function(a,b,c){if(qb(a),b=sb(b,!0),qb(c),rb)try{return tb(a,b,c)}catch(a){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a},vb={f:ub},wb={}.hasOwnProperty,xb=function(a,b){return wb.call(a,b)},yb={}.toString,zb=function(a){return yb.call(a).slice(8,-1)},Ab=zb,Bb=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==Ab(a)?a.split(""):Object(a)},Cb=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a},Db=Bb,Eb=Cb,Fb=function(a){return Db(Eb(a))},Gb=Math.ceil,Hb=Math.floor,Ib=function(a){return isNaN(a=+a)?0:(a>0?Hb:Gb)(a)},Jb=Ib,Kb=Math.min,Lb=function(a){return a>0?Kb(Jb(a),9007199254740991):0},Mb=Ib,Nb=Math.max,Ob=Math.min,Pb=function(a,b){return a=Mb(a),a<0?Nb(a+b,0):Ob(a,b)},Qb=Fb,Rb=Lb,Sb=Pb,Tb=function(a){return function(b,c,d){var e,f=Qb(b),g=Rb(f.length),h=Sb(d,g);if(a&&c!=c){for(;g>h;)if(e=f[h++],e!=e)return!0}else for(;g>h;h++)if((a||h in f)&&f[h]===c)return a||h||0;return!a&&-1}},Ub=ib,Vb="__core-js_shared__",Wb=Ub[Vb]||(Ub[Vb]={}),Xb=function(a){return Wb[a]||(Wb[a]={})},Yb=0,Zb=Math.random(),$b=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++Yb+Zb).toString(36))},_b=Xb("keys"),ac=$b,bc=function(a){return _b[a]||(_b[a]=ac(a))},cc=xb,dc=Fb,ec=Tb(!1),fc=bc("IE_PROTO"),gc=function(a,b){var c,d=dc(a),e=0,f=[];for(c in d)c!=fc&&cc(d,c)&&f.push(c);for(;b.length>e;)cc(d,c=b[e++])&&(~ec(f,c)||f.push(c));return f},hc="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ic=gc,jc=hc,kc=Object.keys||function(a){return ic(a,jc)},lc=vb,mc=eb,nc=kc,oc=gb?Object.defineProperties:function(a,b){mc(a);for(var c,d=nc(b),e=d.length,f=0;e>f;)lc.f(a,c=d[f++],b[c]);return a},pc=ib.document&&document.documentElement,qc=eb,rc=oc,sc=hc,tc=bc("IE_PROTO"),uc=function(){},vc="prototype",wc=function(){var a,b=mb("iframe"),c=sc.length,d="<",e=">";for(b.style.display="none",pc.appendChild(b),b.src="javascript:",a=b.contentWindow.document,a.open(),a.write(d+"script"+e+"document.F=Object"+d+"/script"+e),a.close(),wc=a.F;c--;)delete wc[vc][sc[c]];return wc()},xc=Object.create||function(a,b){var c;return null!==a?(uc[vc]=qc(a),c=new uc,uc[vc]=null,c[tc]=a):c=wc(),void 0===b?c:rc(c,b)},yc=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}},zc=vb,Ac=yc,Bc=gb?function(a,b,c){return zc.f(a,b,Ac(1,c))}:function(a,b,c){return a[b]=c,a},Cc=b(function(a){var b=a.exports={version:"2.4.0"};"number"==typeof __e&&(__e=b)}),Dc=b(function(a){var b=ib,c=Bc,d=xb,e=$b("src"),f="toString",g=Function[f],h=(""+g).split(f);Cc.inspectSource=function(a){return g.call(a)},(a.exports=function(a,f,g,i){var j="function"==typeof g;j&&(d(g,"name")||c(g,"name",f)),a[f]!==g&&(j&&(d(g,e)||c(g,e,a[f]?""+a[f]:h.join(String(f)))),a===b?a[f]=g:i?a[f]?a[f]=g:c(a,f,g):(delete a[f],c(a,f,g)))})(Function.prototype,f,function(){return"function"==typeof this&&this[e]||g.call(this)})}),Ec=Dc,Fc=function(a,b,c){for(var d in b)Ec(a,d,b[d],c);return a},Gc=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a},Hc=Gc,Ic=function(a,b,c){if(Hc(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}},Jc=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a},Kc=eb,Lc=function(a,b,c,d){try{return d?b(Kc(c)[0],c[1]):b(c)}catch(b){var e=a.return;throw void 0!==e&&Kc(e.call(a)),b}},Mc={},Nc=b(function(a){var b=Xb("wks"),c=$b,d=ib.Symbol,e="function"==typeof d,f=a.exports=function(a){return b[a]||(b[a]=e&&d[a]||(e?d:c)("Symbol."+a))};f.store=b}),Oc=Mc,Pc=Nc("iterator"),Qc=Array.prototype,Rc=function(a){return void 0!==a&&(Oc.Array===a||Qc[Pc]===a)},Sc=zb,Tc=Nc("toStringTag"),Uc="Arguments"==Sc(function(){return arguments}()),Vc=function(a,b){try{return a[b]}catch(a){}},Wc=function(a){var b,c,d;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=Vc(b=Object(a),Tc))?c:Uc?Sc(b):"Object"==(d=Sc(b))&&"function"==typeof b.callee?"Arguments":d},Xc=Wc,Yc=Nc("iterator"),Zc=Mc,$c=Cc.getIteratorMethod=function(a){if(void 0!=a)return a[Yc]||a["@@iterator"]||Zc[Xc(a)]},_c=b(function(a){var b=Ic,c=Lc,d=Rc,e=eb,f=Lb,g=$c,h={},i={},j=a.exports=function(a,j,k,l,m){var n,o,p,q,r=m?function(){return a}:g(a),s=b(k,l,j?2:1),t=0;if("function"!=typeof r)throw TypeError(a+" is not iterable!");if(d(r)){for(n=f(a.length);n>t;t++)if(q=j?s(e(o=a[t])[0],o[1]):s(a[t]),q===h||q===i)return q}else for(p=r.call(a);!(o=p.next()).done;)if(q=c(p,s,o.value,j),q===h||q===i)return q};j.BREAK=h,j.RETURN=i}),ad=!1,bd=ib,cd=Cc,dd=Bc,ed=Dc,fd=Ic,gd="prototype",hd=function a(b,c,d){var e,f,g,h,i=b&a.F,j=b&a.G,k=b&a.S,l=b&a.P,m=b&a.B,n=j?bd:k?bd[c]||(bd[c]={}):(bd[c]||{})[gd],o=j?cd:cd[c]||(cd[c]={}),p=o[gd]||(o[gd]={});j&&(d=c);for(e in d)f=!i&&n&&void 0!==n[e],g=(f?n:d)[e],h=m&&f?fd(g,bd):l&&"function"==typeof g?fd(Function.call,g):g,n&&ed(n,e,g,b&a.U),o[e]!=g&&dd(o,e,h),l&&p[e]!=g&&(p[e]=g)};bd.core=cd,hd.F=1,hd.G=2,hd.S=4,hd.P=8,hd.B=16,hd.W=32,hd.U=64,hd.R=128;var id=hd,jd=vb.f,kd=xb,ld=Nc("toStringTag"),md=function(a,b,c){a&&!kd(a=c?a:a.prototype,ld)&&jd(a,ld,{configurable:!0,value:b})},nd=xc,od=yc,pd=md,qd={};Bc(qd,Nc("iterator"),function(){return this});var rd=function(a,b,c){a.prototype=nd(qd,{next:od(1,c)}),pd(a,b+" Iterator")},sd=Cb,td=function(a){return Object(sd(a))},ud=xb,vd=td,wd=bc("IE_PROTO"),xd=Object.prototype,yd=Object.getPrototypeOf||function(a){return a=vd(a),ud(a,wd)?a[wd]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?xd:null},zd=ad,Ad=id,Bd=Dc,Cd=Bc,Dd=xb,Ed=Mc,Fd=rd,Gd=md,Hd=yd,Id=Nc("iterator"),Jd=!([].keys&&"next"in[].keys()),Kd="@@iterator",Ld="keys",Md="values",Nd=function(){return this},Od=function(a,b,c,d,e,f,g){Fd(c,b,d);var h,i,j,k=function(a){if(!Jd&&a in o)return o[a];switch(a){case Ld:return function(){return new c(this,a)};case Md:return function(){return new c(this,a)}}return function(){return new c(this,a)}},l=b+" Iterator",m=e==Md,n=!1,o=a.prototype,p=o[Id]||o[Kd]||e&&o[e],q=p||k(e),r=e?m?k("entries"):q:void 0,s="Array"==b?o.entries||p:p;if(s&&(j=Hd(s.call(new a)),j!==Object.prototype&&(Gd(j,l,!0),zd||Dd(j,Id)||Cd(j,Id,Nd))),m&&p&&p.name!==Md&&(n=!0,q=function(){return p.call(this)}),zd&&!g||!Jd&&!n&&o[Id]||Cd(o,Id,q),Ed[b]=q,Ed[l]=Nd,e)if(h={values:m?q:k(Md),keys:f?q:k(Ld),entries:r},g)for(i in h)i in o||Bd(o,i,h[i]);else Ad(Ad.P+Ad.F*(Jd||n),b,h);return h},Pd=function(a,b){return{value:b,done:!!a}},Qd=ib,Rd=vb,Sd=gb,Td=Nc("species"),Ud=function(a){var b=Qd[a];Sd&&b&&!b[Td]&&Rd.f(b,Td,{configurable:!0,get:function(){return this}})},Vd=b(function(a){var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},c=$b("meta"),d=cb,e=xb,f=vb.f,g=0,h=Object.isExtensible||function(){return!0},i=!fb(function(){return h(Object.preventExtensions({}))}),j=function(a){f(a,c,{value:{i:"O"+ ++g,w:{}}})},k=function(a,f){if(!d(a))return"symbol"==("undefined"==typeof a?"undefined":b(a))?a:("string"==typeof a?"S":"P")+a;if(!e(a,c)){if(!h(a))return"F";if(!f)return"E";j(a)}return a[c].i},l=function(a,b){if(!e(a,c)){if(!h(a))return!0;if(!b)return!1;j(a)}return a[c].w},m=function(a){return i&&n.NEED&&h(a)&&!e(a,c)&&j(a),a},n=a.exports={KEY:c,NEED:!1,fastKey:k,getWeak:l,onFreeze:m}}),Wd=vb.f,Xd=xc,Yd=Fc,Zd=Ic,$d=Jc,_d=Cb,ae=_c,be=Od,ce=Pd,de=Ud,ee=gb,fe=Vd.fastKey,ge=ee?"_s":"size",he=function(a,b){var c,d=fe(b);if("F"!==d)return a._i[d];for(c=a._f;c;c=c.n)if(c.k==b)return c},ie={getConstructor:function(a,b,c,d){var e=a(function(a,f){$d(a,e,b,"_i"),a._i=Xd(null),a._f=void 0,a._l=void 0,a[ge]=0,void 0!=f&&ae(f,c,a[d],a)});return Yd(e.prototype,{clear:function(){for(var a=this,b=a._i,c=a._f;c;c=c.n)c.r=!0,c.p&&(c.p=c.p.n=void 0),delete b[c.i];a._f=a._l=void 0,a[ge]=0},delete:function(a){var b=this,c=he(b,a);if(c){var d=c.n,e=c.p;delete b._i[c.i],c.r=!0,e&&(e.n=d),d&&(d.p=e),b._f==c&&(b._f=d),b._l==c&&(b._l=e),b[ge]--}return!!c},forEach:function(a){$d(this,e,"forEach");for(var b,c=Zd(a,arguments.length>1?arguments[1]:void 0,3);b=b?b.n:this._f;)for(c(b.v,b.k,this);b&&b.r;)b=b.p},has:function(a){return!!he(this,a)}}),ee&&Wd(e.prototype,"size",{get:function(){return _d(this[ge])}}),e},def:function(a,b,c){var d,e,f=he(a,b);return f?f.v=c:(a._l=f={i:e=fe(b,!0),k:b,v:c,p:d=a._l,n:void 0,r:!1},a._f||(a._f=f),d&&(d.n=f),a[ge]++,"F"!==e&&(a._i[e]=f)),a},getEntry:he,setStrong:function(a,b,c){be(a,b,function(a,b){this._t=a,this._k=b,this._l=void 0},function(){for(var a=this,b=a._k,c=a._l;c&&c.r;)c=c.p;return a._t&&(a._l=c=c?c.n:a._t._f)?"keys"==b?ce(0,c.k):"values"==b?ce(0,c.v):ce(0,[c.k,c.v]):(a._t=void 0,ce(1))},c?"entries":"values",!c,!0),de(b)}},je=Nc("iterator"),ke=!1;try{var le=[7][je]();le.return=function(){ke=!0},Array.from(le,function(){throw 2})}catch(a){}var me=function(a,b){if(!b&&!ke)return!1;var c=!1;try{var d=[7],e=d[je]();e.next=function(){return{done:c=!0}},d[je]=function(){return e},a(d)}catch(a){}return c},ne={}.propertyIsEnumerable,oe={f:ne},pe=oe,qe=yc,re=Fb,se=pb,te=xb,ue=nb,ve=Object.getOwnPropertyDescriptor,we=gb?ve:function(a,b){if(a=re(a),b=se(b,!0),ue)try{return ve(a,b)}catch(a){}if(te(a,b))return qe(!pe.f.call(a,b),a[b])},xe={f:we},ye=cb,ze=eb,Ae=function(a,b){if(ze(a),!ye(b)&&null!==b)throw TypeError(b+": can't set as prototype!")},Be={set:Object.setPrototypeOf||("__proto__"in{}?function(a,b,c){try{c=Ic(Function.call,xe.f(Object.prototype,"__proto__").set,2),c(a,[]),b=!(a instanceof Array)}catch(a){b=!0}return function(a,d){return Ae(a,d),b?a.__proto__=d:c(a,d),a}}({},!1):void 0),check:Ae},Ce=cb,De=Be.set,Ee=function(a,b,c){var d,e=b.constructor;return e!==c&&"function"==typeof e&&(d=e.prototype)!==c.prototype&&Ce(d)&&De&&De(a,d),a},Fe=ib,Ge=id,He=Dc,Ie=Fc,Je=Vd,Ke=_c,Le=Jc,Me=cb,Ne=fb,Oe=me,Pe=md,Qe=Ee,Re=function(a,b,c,d,e,f){var g=Fe[a],h=g,i=e?"set":"add",j=h&&h.prototype,k={},l=function(a){var b=j[a];He(j,a,"delete"==a?function(a){return!(f&&!Me(a))&&b.call(this,0===a?0:a)}:"has"==a?function(a){return!(f&&!Me(a))&&b.call(this,0===a?0:a)}:"get"==a?function(a){return f&&!Me(a)?void 0:b.call(this,0===a?0:a)}:"add"==a?function(a){return b.call(this,0===a?0:a),this}:function(a,c){return b.call(this,0===a?0:a,c),this})};if("function"==typeof h&&(f||j.forEach&&!Ne(function(){(new h).entries().next()}))){var m=new h,n=m[i](f?{}:-0,1)!=m,o=Ne(function(){m.has(1)}),p=Oe(function(a){new h(a)}),q=!f&&Ne(function(){for(var a=new h,b=5;b--;)a[i](b,b);return!a.has(-0)});p||(h=b(function(b,c){Le(b,h,a);var d=Qe(new g,b,h);return void 0!=c&&Ke(c,e,d[i],d),d}),h.prototype=j,j.constructor=h),(o||q)&&(l("delete"),l("has"),e&&l("get")),(q||n)&&l(i),f&&j.clear&&delete j.clear}else h=d.getConstructor(b,a,e,i),Ie(h.prototype,c),Je.NEED=!0;return Pe(h,a),k[a]=h,Ge(Ge.G+Ge.W+Ge.F*(h!=g),k),f||d.setStrong(h,a,e),h},Se=ie,Te=Re("Map",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{get:function(a){var b=Se.getEntry(this,a);return b&&b.v},set:function(a,b){return Se.def(this,0===a?0:a,b)}},Se,!0),Ue=zb,Ve=Array.isArray||function(a){return"Array"==Ue(a)},We=cb,Xe=Ve,Ye=Nc("species"),Ze=function(a){var b;return Xe(a)&&(b=a.constructor,"function"!=typeof b||b!==Array&&!Xe(b.prototype)||(b=void 0),We(b)&&(b=b[Ye],null===b&&(b=void 0))),void 0===b?Array:b},$e=Ze,_e=function(a,b){return new($e(a))(b)},af=Ic,bf=Bb,cf=td,df=Lb,ef=_e,ff=function(a,b){var c=1==a,d=2==a,e=3==a,f=4==a,g=6==a,h=5==a||g,i=b||ef;return function(b,j,k){for(var l,m,n=cf(b),o=bf(n),p=af(j,k,3),q=df(o.length),r=0,s=c?i(b,q):d?i(b,0):void 0;q>r;r++)if((h||r in o)&&(l=o[r],m=p(l,r,n),a))if(c)s[r]=m;else if(m)switch(a){case 3:return!0;case 5:return l;case 6:return r;case 2:s.push(l)}else if(f)return!1;return g?-1:e||f?f:s}},gf=Object.getOwnPropertySymbols,hf={f:gf},jf=kc,kf=hf,lf=oe,mf=td,nf=Bb,of=Object.assign,pf=!of||fb(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(a){b[a]=a}),7!=of({},a)[c]||Object.keys(of({},b)).join("")!=d})?function(a,b){for(var c=mf(a),d=arguments.length,e=1,f=kf.f,g=lf.f;d>e;)for(var h,i=nf(arguments[e++]),j=f?jf(i).concat(f(i)):jf(i),k=j.length,l=0;k>l;)g.call(i,h=j[l++])&&(c[h]=i[h]);return c}:of,qf=Fc,rf=Vd.getWeak,sf=eb,tf=cb,uf=Jc,vf=_c,wf=ff,xf=xb,yf=wf(5),zf=wf(6),Af=0,Bf=function(a){return a._l||(a._l=new Cf)},Cf=function(){this.a=[]},Df=function(a,b){return yf(a.a,function(a){return a[0]===b})};Cf.prototype={get:function(a){var b=Df(this,a);if(b)return b[1]},has:function(a){return!!Df(this,a)},set:function(a,b){var c=Df(this,a);c?c[1]=b:this.a.push([a,b])},delete:function(a){var b=zf(this.a,function(b){return b[0]===a});return~b&&this.a.splice(b,1),!!~b}};var Ef={getConstructor:function(a,b,c,d){var e=a(function(a,f){uf(a,e,b,"_i"),a._i=Af++,a._l=void 0,void 0!=f&&vf(f,c,a[d],a)});return qf(e.prototype,{delete:function(a){if(!tf(a))return!1;var b=rf(a);return b===!0?Bf(this).delete(a):b&&xf(b,this._i)&&delete b[this._i]},has:function(a){if(!tf(a))return!1;var b=rf(a);return b===!0?Bf(this).has(a):b&&xf(b,this._i)}}),e},def:function(a,b,c){var d=rf(sf(b),!0);return d===!0?Bf(a).set(b,c):d[a._i]=c,a},ufstore:Bf},Ff=b(function(a){var b,c=ff(0),d=Dc,e=Vd,f=pf,g=Ef,h=cb,i=e.getWeak,j=Object.isExtensible,k=g.ufstore,l={},m=function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},n={get:function(a){if(h(a)){var b=i(a);return b===!0?k(this).get(a):b?b[this._i]:void 0}},set:function(a,b){return g.def(this,a,b)}},o=a.exports=Re("WeakMap",m,n,g,!0,!0);7!=(new o).set((Object.freeze||Object)(l),7).get(l)&&(b=g.getConstructor(m),f(b.prototype,n),e.NEED=!0,c(["delete","has","get","set"],function(a){var c=o.prototype,e=c[a];d(c,a,function(c,d){if(h(c)&&!j(c)){this._f||(this._f=new b);var f=this._f[a](c,d);return"set"==a?this:f}return e.call(this,c,d)})}))}),Gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Hf=Te,If=id,Jf=Xb("metadata"),Kf=Jf.store||(Jf.store=new Ff),Lf=function(a,b,c){var d=Kf.get(a);if(!d){if(!c)return;Kf.set(a,d=new Hf)}var e=d.get(b);if(!e){if(!c)return;d.set(b,e=new Hf)}return e},Mf=function(a,b,c){var d=Lf(b,c,!1);return void 0!==d&&d.has(a)},Nf=function(a,b,c){var d=Lf(b,c,!1);return void 0===d?void 0:d.get(a)},Of=function(a,b,c,d){Lf(c,d,!0).set(a,b)},Pf=function(a,b){var c=Lf(a,b,!1),d=[];return c&&c.forEach(function(a,b){d.push(b)}),d},Qf=function(a){return void 0===a||"symbol"==("undefined"==typeof a?"undefined":Gf(a))?a:String(a)},Rf=function(a){If(If.S,"Reflect",a)},Sf={store:Kf,map:Lf,has:Mf,get:Nf,set:Of,keys:Pf,key:Qf,exp:Rf},Tf=Sf,Uf=eb,Vf=Tf.key,Wf=Tf.set;Tf.exp({defineMetadata:function(a,b,c,d){Wf(a,b,Uf(c),Vf(d))}});var Xf=Sf,Yf=eb,Zf=Xf.key,$f=Xf.map,_f=Xf.store;Xf.exp({deleteMetadata:function(a,b){var c=arguments.length<3?void 0:Zf(arguments[2]),d=$f(Yf(b),c,!1);if(void 0===d||!d.delete(a))return!1;if(d.size)return!0;var e=_f.get(b);return e.delete(c),!!e.size||_f.delete(b)}});var ag=Sf,bg=eb,cg=yd,dg=ag.has,eg=ag.get,fg=ag.key,gg=function a(b,c,d){var e=dg(b,c,d);if(e)return eg(b,c,d);var f=cg(c);return null!==f?a(b,f,d):void 0};ag.exp({getMetadata:function(a,b){return gg(a,bg(b),arguments.length<3?void 0:fg(arguments[2]))}});var hg=ie,ig=Re("Set",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{add:function(a){return hg.def(this,a=0===a?0:a,a)}},hg),jg=_c,kg=function(a,b){var c=[];return jg(a,!1,c.push,c,b),c},lg=ig,mg=kg,ng=Sf,og=eb,pg=yd,qg=ng.keys,rg=ng.key,sg=function a(b,c){var d=qg(b,c),e=pg(b);
if(null===e)return d;var f=a(e,c);return f.length?d.length?mg(new lg(d.concat(f))):f:d};ng.exp({getMetadataKeys:function(a){return sg(og(a),arguments.length<2?void 0:rg(arguments[1]))}});var tg=Sf,ug=eb,vg=tg.get,wg=tg.key;tg.exp({getOwnMetadata:function(a,b){return vg(a,ug(b),arguments.length<3?void 0:wg(arguments[2]))}});var xg=Sf,yg=eb,zg=xg.keys,Ag=xg.key;xg.exp({getOwnMetadataKeys:function(a){return zg(yg(a),arguments.length<2?void 0:Ag(arguments[1]))}});var Bg=Sf,Cg=eb,Dg=yd,Eg=Bg.has,Fg=Bg.key,Gg=function a(b,c,d){var e=Eg(b,c,d);if(e)return!0;var f=Dg(c);return null!==f&&a(b,f,d)};Bg.exp({hasMetadata:function(a,b){return Gg(a,Cg(b),arguments.length<3?void 0:Fg(arguments[2]))}});var Hg=Sf,Ig=eb,Jg=Hg.has,Kg=Hg.key;Hg.exp({hasOwnMetadata:function(a,b){return Jg(a,Ig(b),arguments.length<3?void 0:Kg(arguments[2]))}});var Lg=Sf,Mg=eb,Ng=Gc,Og=Lg.key,Pg=Lg.set;Lg.exp({metadata:function(a,b){return function(c,d){Pg(a,b,(void 0!==d?Mg:Ng)(c),Og(d))}}});var Qg,Rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Qg="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var Sg=Qg;Sg.assert=function(a){};var Tg=null,Ug=0,Vg=Sg.Reflect,Wg=r("Inject",[["token",void 0]]),Xg=r("Optional",[]),Yg=p("Injectable",[]),Zg=r("Self",[]),$g=r("SkipSelf",[]),_g=r("Host",[]),ah=function(){function a(a){this._desc=a}return a.prototype.toString=function(){return"Token "+this._desc},a.decorators=[{type:Yg}],a.ctorParameters=function(){return[null]},a}(),bh=(new ah("AnalyzeForEntryComponents"),r("Attribute",[["attributeName",void 0]]),{});bh.OnPush=0,bh.Default=1,bh[bh.OnPush]="OnPush",bh[bh.Default]="Default";var ch={};ch.CheckOnce=0,ch.Checked=1,ch.CheckAlways=2,ch.Detached=3,ch.Errored=4,ch.Destroyed=5,ch[ch.CheckOnce]="CheckOnce",ch[ch.Checked]="Checked",ch[ch.CheckAlways]="CheckAlways",ch[ch.Detached]="Detached",ch[ch.Errored]="Errored",ch[ch.Destroyed]="Destroyed";var dh,eh,fh,gh,hh=p("Directive",{selector:void 0,inputs:void 0,outputs:void 0,host:void 0,providers:void 0,exportAs:void 0,queries:void 0}),ih=(p("Component",{selector:void 0,inputs:void 0,outputs:void 0,host:void 0,exportAs:void 0,moduleId:void 0,providers:void 0,viewProviders:void 0,changeDetection:bh.Default,queries:void 0,templateUrl:void 0,template:void 0,styleUrls:void 0,styles:void 0,animations:void 0,encapsulation:void 0,interpolation:void 0,entryComponents:void 0},hh),p("Pipe",{name:void 0,pure:!0}),p("NgModule",{providers:void 0,declarations:void 0,imports:void 0,exports:void 0,entryComponents:void 0,bootstrap:void 0,schemas:void 0,id:void 0})),jh=function(){function a(a){this.full=a}return Object.defineProperty(a.prototype,"major",{get:function(){return this.full.split(".")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"minor",{get:function(){return this.full.split(".")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"patch",{get:function(){return this.full.split(".").slice(2).join(".")},enumerable:!0,configurable:!0}),a}(),kh=(new jh("2.4.4"),function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),lh=function(a){function b(b){a.call(this,b);var c=new Error(b);this._nativeError=c}return kh(b,a),Object.defineProperty(b.prototype,"message",{get:function(){return this._nativeError.message},set:function(a){this._nativeError.message=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"name",{get:function(){return this._nativeError.name},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"stack",{get:function(){return this._nativeError.stack},set:function(a){this._nativeError.stack=a},enumerable:!0,configurable:!0}),b.prototype.toString=function(){return this._nativeError.toString()},b}(Error),mh=function(a){function b(b,c){a.call(this,b+" caused by: "+(c instanceof Error?c.message:c)),this.originalError=c}return kh(b,a),Object.defineProperty(b.prototype,"stack",{get:function(){return(this.originalError instanceof Error?this.originalError:this._nativeError).stack},enumerable:!0,configurable:!0}),b}(lh),nh=new Object,oh=nh,ph=function(){function a(){}return a.prototype.get=function(a,b){if(void 0===b&&(b=nh),b===nh)throw new Error("No provider for "+g(a)+"!");return b},a}(),qh=function(){function a(){}return a.prototype.get=function(a,b){return u()},a.THROW_IF_NOT_FOUND=nh,a.NULL=new ph,a}(),rh=function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},sh=function(a){function b(b,c,d){a.call(this,"DI Error"),this.keys=[c],this.injectors=[b],this.constructResolvingMessage=d,this.message=this.constructResolvingMessage(this.keys)}return rh(b,a),b.prototype.addKey=function(a,b){this.injectors.push(a),this.keys.push(b),this.message=this.constructResolvingMessage(this.keys)},b}(lh),th=function(a){function b(b,c){a.call(this,b,c,function(a){var b=g(a[0].token);return"No provider for "+b+"!"+w(a)})}return rh(b,a),b}(sh),uh=function(a){function b(b,c){a.call(this,b,c,function(a){return"Cannot instantiate cyclic dependency!"+w(a)})}return rh(b,a),b}(sh),vh=function(a){function b(b,c,d,e){a.call(this,"DI Error",c),this.keys=[e],this.injectors=[b]}return rh(b,a),b.prototype.addKey=function(a,b){this.injectors.push(a),this.keys.push(b)},Object.defineProperty(b.prototype,"message",{get:function(){var a=g(this.keys[0].token);return this.originalError.message+": Error during instantiation of "+a+"!"+w(this.keys)+"."},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"causeKey",{get:function(){return this.keys[0]},enumerable:!0,configurable:!0}),b}(mh),wh=function(a){function b(b){a.call(this,"Invalid provider - only instances of Provider and Type are allowed, got: "+b)}return rh(b,a),b}(lh),xh=function(a){function b(c,d){a.call(this,b._genMessage(c,d))}return rh(b,a),b._genMessage=function(a,b){for(var c=[],d=0,e=b.length;d<e;d++){var f=b[d];f&&0!=f.length?c.push(f.map(g).join(" ")):c.push("?")}return"Cannot resolve all parameters for '"+g(a)+"'("+c.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+g(a)+"' is decorated with Injectable."},b}(lh),yh=function(a){function b(b){a.call(this,"Index "+b+" is out-of-bounds.")}return rh(b,a),b}(lh),zh=function(a){function b(b,c){a.call(this,"Cannot mix multi providers and regular providers, got: "+b.toString()+" "+c.toString())}return rh(b,a),b}(lh),Ah=function(){function a(a,b){if(this.token=a,this.id=b,!a)throw new Error("Token must be defined!")}return Object.defineProperty(a.prototype,"displayName",{get:function(){return g(this.token)},enumerable:!0,configurable:!0}),a.get=function(a){return Ch.get(t(a))},Object.defineProperty(a,"numberOfKeys",{get:function(){return Ch.numberOfKeys},enumerable:!0,configurable:!0}),a}(),Bh=function(){function a(){this._allKeys=new Map}return a.prototype.get=function(a){if(a instanceof Ah)return a;if(this._allKeys.has(a))return this._allKeys.get(a);var b=new Ah(a,Ah.numberOfKeys);return this._allKeys.set(a,b),b},Object.defineProperty(a.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),a}(),Ch=new Bh,Dh=Function,Eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Fh=/^function\s+\S+\(\)\s*{\s*("use strict";)?\s*(return\s+)?\S+\.apply\(this,\s*arguments\)/,Gh=function(){function a(a){this._reflect=a||Sg.Reflect}return a.prototype.isReflectionEnabled=function(){return!0},a.prototype.factory=function(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c-0]=arguments[c];return new(a.bind.apply(a,[void 0].concat(b)))}},a.prototype._zipTypesAndAnnotations=function(a,b){var c;c="undefined"==typeof a?new Array(b.length):new Array(a.length);for(var d=0;d<c.length;d++)"undefined"==typeof a?c[d]=[]:a[d]!=Object?c[d]=[a[d]]:c[d]=[],b&&e(b[d])&&(c[d]=c[d].concat(b[d]));return c},a.prototype._ownParameters=function(a,b){if(Fh.exec(a.toString()))return null;if(a.parameters&&a.parameters!==b.parameters)return a.parameters;var c=a.ctorParameters;if(c&&c!==b.ctorParameters){var d="function"==typeof c?c():c,f=d.map(function(a){return a&&a.type}),g=d.map(function(a){return a&&y(a.decorators)});return this._zipTypesAndAnnotations(f,g)}if(e(this._reflect)&&e(this._reflect.getOwnMetadata)){var g=this._reflect.getOwnMetadata("parameters",a),f=this._reflect.getOwnMetadata("design:paramtypes",a);if(f||g)return this._zipTypesAndAnnotations(f,g)}return new Array(a.length).fill(void 0)},a.prototype.parameters=function(a){if(!x(a))return[];var b=z(a),c=this._ownParameters(a,b);return c||b===Object||(c=this.parameters(b)),c||[]},a.prototype._ownAnnotations=function(a,b){if(a.annotations&&a.annotations!==b.annotations){var c=a.annotations;return"function"==typeof c&&c.annotations&&(c=c.annotations),c}return a.decorators&&a.decorators!==b.decorators?y(a.decorators):this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("annotations",a):void 0},a.prototype.annotations=function(a){if(!x(a))return[];var b=z(a),c=this._ownAnnotations(a,b)||[],d=b!==Object?this.annotations(b):[];return d.concat(c)},a.prototype._ownPropMetadata=function(a,b){if(a.propMetadata&&a.propMetadata!==b.propMetadata){var c=a.propMetadata;return"function"==typeof c&&c.propMetadata&&(c=c.propMetadata),c}if(a.propDecorators&&a.propDecorators!==b.propDecorators){var d=a.propDecorators,e={};return Object.keys(d).forEach(function(a){e[a]=y(d[a])}),e}if(this._reflect&&this._reflect.getOwnMetadata)return this._reflect.getOwnMetadata("propMetadata",a)},a.prototype.propMetadata=function(a){if(!x(a))return{};var b=z(a),c={};if(b!==Object){var d=this.propMetadata(b);Object.keys(d).forEach(function(a){c[a]=d[a]})}var e=this._ownPropMetadata(a,b);return e&&Object.keys(e).forEach(function(a){var b=[];c.hasOwnProperty(a)&&b.push.apply(b,c[a]),b.push.apply(b,e[a]),c[a]=b}),c},a.prototype.hasLifecycleHook=function(a,b){return a instanceof Dh&&b in a.prototype},a.prototype.getter=function(a){return new Function("o","return o."+a+";")},a.prototype.setter=function(a){return new Function("o","v","return o."+a+" = v;")},a.prototype.method=function(a){var b="if (!o."+a+") throw new Error('\""+a+"\" is undefined');\n        return o."+a+".apply(o, args);";return new Function("o","args",b)},a.prototype.importUri=function(a){return"object"===("undefined"==typeof a?"undefined":Eh(a))&&a.filePath?a.filePath:"./"+g(a)},a.prototype.resolveIdentifier=function(a,b,c){return c},a.prototype.resolveEnum=function(a,b){return a[b]},a}(),Hh=function(){function a(){}return a.prototype.parameters=function(a){},a.prototype.annotations=function(a){},a.prototype.propMetadata=function(a){},a.prototype.importUri=function(a){},a.prototype.resolveIdentifier=function(a,b,c){},a.prototype.resolveEnum=function(a,b){},a}(),Ih=function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Jh=function(a){function b(b){a.call(this),this.reflectionCapabilities=b}return Ih(b,a),b.prototype.updateCapabilities=function(a){this.reflectionCapabilities=a},b.prototype.factory=function(a){return this.reflectionCapabilities.factory(a)},b.prototype.parameters=function(a){return this.reflectionCapabilities.parameters(a)},b.prototype.annotations=function(a){return this.reflectionCapabilities.annotations(a)},b.prototype.propMetadata=function(a){return this.reflectionCapabilities.propMetadata(a)},b.prototype.hasLifecycleHook=function(a,b){return this.reflectionCapabilities.hasLifecycleHook(a,b)},b.prototype.getter=function(a){return this.reflectionCapabilities.getter(a)},b.prototype.setter=function(a){return this.reflectionCapabilities.setter(a)},b.prototype.method=function(a){return this.reflectionCapabilities.method(a)},b.prototype.importUri=function(a){return this.reflectionCapabilities.importUri(a)},b.prototype.resolveIdentifier=function(a,b,c){return this.reflectionCapabilities.resolveIdentifier(a,b,c)},b.prototype.resolveEnum=function(a,b){return this.reflectionCapabilities.resolveEnum(a,b)},b}(Hh),Kh=new Jh(new Gh),Lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Mh=function(){function a(a,b,c,d,e){this.key=a,this.optional=b,this.lowerBoundVisibility=c,this.upperBoundVisibility=d,this.properties=e}return a.fromKey=function(b){return new a(b,!1,null,null,[])},a}(),Nh=[],Oh=function(){function a(a,b,c){this.key=a,this.resolvedFactories=b,this.multiProvider=c}return Object.defineProperty(a.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),a}(),Ph=function(){function a(a,b){this.factory=a,this.dependencies=b}return a}(),Qh=10,Rh=new Object,Sh=function(){function a(a,b){this.provider0=null,this.provider1=null,this.provider2=null,this.provider3=null,this.provider4=null,this.provider5=null,this.provider6=null,this.provider7=null,this.provider8=null,this.provider9=null,this.keyId0=null,this.keyId1=null,this.keyId2=null,this.keyId3=null,this.keyId4=null,this.keyId5=null,this.keyId6=null,this.keyId7=null,this.keyId8=null,this.keyId9=null;var c=b.length;c>0&&(this.provider0=b[0],this.keyId0=b[0].key.id),c>1&&(this.provider1=b[1],this.keyId1=b[1].key.id),c>2&&(this.provider2=b[2],this.keyId2=b[2].key.id),c>3&&(this.provider3=b[3],this.keyId3=b[3].key.id),c>4&&(this.provider4=b[4],this.keyId4=b[4].key.id),c>5&&(this.provider5=b[5],this.keyId5=b[5].key.id),c>6&&(this.provider6=b[6],this.keyId6=b[6].key.id),c>7&&(this.provider7=b[7],this.keyId7=b[7].key.id),c>8&&(this.provider8=b[8],this.keyId8=b[8].key.id),c>9&&(this.provider9=b[9],this.keyId9=b[9].key.id)}return a.prototype.getProviderAtIndex=function(a){if(0==a)return this.provider0;if(1==a)return this.provider1;if(2==a)return this.provider2;if(3==a)return this.provider3;if(4==a)return this.provider4;if(5==a)return this.provider5;if(6==a)return this.provider6;if(7==a)return this.provider7;if(8==a)return this.provider8;if(9==a)return this.provider9;throw new yh(a)},a.prototype.createInjectorStrategy=function(a){return new Vh(a,this)},a}(),Th=function(){function a(a,b){this.providers=b;var c=b.length;this.keyIds=new Array(c);for(var d=0;d<c;d++)this.keyIds[d]=b[d].key.id}return a.prototype.getProviderAtIndex=function(a){if(a<0||a>=this.providers.length)throw new yh(a);return this.providers[a]},a.prototype.createInjectorStrategy=function(a){return new Wh(this,a)},a}(),Uh=function(){function a(a){this.numberOfProviders=a.length,this._strategy=a.length>Qh?new Th(this,a):new Sh(this,a)}return a.fromResolvedProviders=function(b){return new a(b)},a.prototype.getProviderAtIndex=function(a){return this._strategy.getProviderAtIndex(a)},a}(),Vh=function(){function a(a,b){this.injector=a,this.protoStrategy=b,this.obj0=Rh,this.obj1=Rh,this.obj2=Rh,this.obj3=Rh,this.obj4=Rh,this.obj5=Rh,this.obj6=Rh,this.obj7=Rh,this.obj8=Rh,this.obj9=Rh}return a.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},a.prototype.instantiateProvider=function(a){return this.injector._new(a)},a.prototype.getObjByKeyId=function(a){var b=this.protoStrategy,c=this.injector;return b.keyId0===a?(this.obj0===Rh&&(this.obj0=c._new(b.provider0)),this.obj0):b.keyId1===a?(this.obj1===Rh&&(this.obj1=c._new(b.provider1)),this.obj1):b.keyId2===a?(this.obj2===Rh&&(this.obj2=c._new(b.provider2)),this.obj2):b.keyId3===a?(this.obj3===Rh&&(this.obj3=c._new(b.provider3)),this.obj3):b.keyId4===a?(this.obj4===Rh&&(this.obj4=c._new(b.provider4)),this.obj4):b.keyId5===a?(this.obj5===Rh&&(this.obj5=c._new(b.provider5)),this.obj5):b.keyId6===a?(this.obj6===Rh&&(this.obj6=c._new(b.provider6)),this.obj6):b.keyId7===a?(this.obj7===Rh&&(this.obj7=c._new(b.provider7)),this.obj7):b.keyId8===a?(this.obj8===Rh&&(this.obj8=c._new(b.provider8)),this.obj8):b.keyId9===a?(this.obj9===Rh&&(this.obj9=c._new(b.provider9)),this.obj9):Rh},a.prototype.getObjAtIndex=function(a){if(0==a)return this.obj0;if(1==a)return this.obj1;if(2==a)return this.obj2;if(3==a)return this.obj3;if(4==a)return this.obj4;if(5==a)return this.obj5;if(6==a)return this.obj6;if(7==a)return this.obj7;if(8==a)return this.obj8;if(9==a)return this.obj9;throw new yh(a)},a.prototype.getMaxNumberOfObjects=function(){return Qh},a}(),Wh=function(){function a(a,b){this.protoStrategy=a,this.injector=b,this.objs=new Array(a.providers.length).fill(Rh)}return a.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},a.prototype.instantiateProvider=function(a){return this.injector._new(a)},a.prototype.getObjByKeyId=function(a){for(var b=this.protoStrategy,c=0;c<b.keyIds.length;c++)if(b.keyIds[c]===a)return this.objs[c]===Rh&&(this.objs[c]=this.injector._new(b.providers[c])),this.objs[c];return Rh},a.prototype.getObjAtIndex=function(a){if(a<0||a>=this.objs.length)throw new yh(a);return this.objs[a]},a.prototype.getMaxNumberOfObjects=function(){return this.objs.length},a}(),Xh=function(){function a(){}return a.resolve=function(a){return C(a)},a.resolveAndCreate=function(b,c){void 0===c&&(c=null);var d=a.resolve(b);return a.fromResolvedProviders(d,c)},a.fromResolvedProviders=function(a,b){return void 0===b&&(b=null),new Yh(Uh.fromResolvedProviders(a),b)},Object.defineProperty(a.prototype,"parent",{get:function(){return u()},enumerable:!0,configurable:!0}),a.prototype.resolveAndCreateChild=function(a){return u()},a.prototype.createChildFromResolved=function(a){return u()},a.prototype.resolveAndInstantiate=function(a){return u()},a.prototype.instantiateResolved=function(a){return u()},a.prototype.get=function(a,b){},a}(),Yh=function(){function a(a,b){void 0===b&&(b=null),this._constructionCounter=0,this._proto=a,this._parent=b,this._strategy=a._strategy.createInjectorStrategy(this)}return a.prototype.get=function(a,b){return void 0===b&&(b=oh),this._getByKey(Ah.get(a),null,null,b)},a.prototype.getAt=function(a){return this._strategy.getObjAtIndex(a)},Object.defineProperty(a.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"internalStrategy",{get:function(){return this._strategy},enumerable:!0,configurable:!0}),a.prototype.resolveAndCreateChild=function(a){var b=Xh.resolve(a);return this.createChildFromResolved(b)},a.prototype.createChildFromResolved=function(b){var c=new Uh(b),d=new a(c);return d._parent=this,d},a.prototype.resolveAndInstantiate=function(a){return this.instantiateResolved(Xh.resolve([a])[0])},a.prototype.instantiateResolved=function(a){return this._instantiateProvider(a)},a.prototype._new=function(a){if(this._constructionCounter++>this._strategy.getMaxNumberOfObjects())throw new uh(this,a.key);return this._instantiateProvider(a)},a.prototype._instantiateProvider=function(a){if(a.multiProvider){for(var b=new Array(a.resolvedFactories.length),c=0;c<a.resolvedFactories.length;++c)b[c]=this._instantiate(a,a.resolvedFactories[c]);return b}return this._instantiate(a,a.resolvedFactories[0])},a.prototype._instantiate=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=b.factory,x=b.dependencies,y=x.length;try{c=y>0?this._getByReflectiveDependency(a,x[0]):null,d=y>1?this._getByReflectiveDependency(a,x[1]):null,e=y>2?this._getByReflectiveDependency(a,x[2]):null,f=y>3?this._getByReflectiveDependency(a,x[3]):null,g=y>4?this._getByReflectiveDependency(a,x[4]):null,h=y>5?this._getByReflectiveDependency(a,x[5]):null,i=y>6?this._getByReflectiveDependency(a,x[6]):null,j=y>7?this._getByReflectiveDependency(a,x[7]):null,k=y>8?this._getByReflectiveDependency(a,x[8]):null,l=y>9?this._getByReflectiveDependency(a,x[9]):null,m=y>10?this._getByReflectiveDependency(a,x[10]):null,n=y>11?this._getByReflectiveDependency(a,x[11]):null,o=y>12?this._getByReflectiveDependency(a,x[12]):null,p=y>13?this._getByReflectiveDependency(a,x[13]):null,q=y>14?this._getByReflectiveDependency(a,x[14]):null,r=y>15?this._getByReflectiveDependency(a,x[15]):null,s=y>16?this._getByReflectiveDependency(a,x[16]):null,t=y>17?this._getByReflectiveDependency(a,x[17]):null,u=y>18?this._getByReflectiveDependency(a,x[18]):null,v=y>19?this._getByReflectiveDependency(a,x[19]):null}catch(b){throw(b instanceof sh||b instanceof vh)&&b.addKey(this,a.key),b}var z;try{switch(y){case 0:z=w();break;case 1:z=w(c);break;case 2:z=w(c,d);break;case 3:z=w(c,d,e);break;case 4:z=w(c,d,e,f);break;case 5:z=w(c,d,e,f,g);break;case 6:z=w(c,d,e,f,g,h);break;case 7:z=w(c,d,e,f,g,h,i);break;case 8:z=w(c,d,e,f,g,h,i,j);break;case 9:z=w(c,d,e,f,g,h,i,j,k);break;case 10:z=w(c,d,e,f,g,h,i,j,k,l);break;case 11:z=w(c,d,e,f,g,h,i,j,k,l,m);break;case 12:z=w(c,d,e,f,g,h,i,j,k,l,m,n);break;case 13:z=w(c,d,e,f,g,h,i,j,k,l,m,n,o);break;case 14:z=w(c,d,e,f,g,h,i,j,k,l,m,n,o,p);break;case 15:z=w(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q);break;case 16:z=w(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r);break;case 17:z=w(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s);break;case 18:z=w(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t);break;case 19:z=w(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u);break;case 20:z=w(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v);break;default:throw new Error("Cannot instantiate '"+a.key.displayName+"' because it has more than 20 dependencies")}}catch(b){throw new vh(this,b,b.stack,a.key)}return z},a.prototype._getByReflectiveDependency=function(a,b){return this._getByKey(b.key,b.lowerBoundVisibility,b.upperBoundVisibility,b.optional?null:oh)},a.prototype._getByKey=function(a,b,c,d){return a===Zh?this:c instanceof Zg?this._getByKeySelf(a,d):this._getByKeyDefault(a,d,b)},a.prototype._throwOrNull=function(a,b){if(b!==oh)return b;throw new th(this,a)},a.prototype._getByKeySelf=function(a,b){var c=this._strategy.getObjByKeyId(a.id);return c!==Rh?c:this._throwOrNull(a,b)},a.prototype._getByKeyDefault=function(b,c,d){var e;for(e=d instanceof $g?this._parent:this;e instanceof a;){var f=e,g=f._strategy.getObjByKeyId(b.id);if(g!==Rh)return g;e=f._parent}return null!==e?e.get(b.token,c):this._throwOrNull(b,c)},Object.defineProperty(a.prototype,"displayName",{get:function(){var a=J(this,function(a){return' "'+a.key.displayName+'" '}).join(", ");return"ReflectiveInjector(providers: ["+a+"])"},enumerable:!0,configurable:!0}),a.prototype.toString=function(){return this.displayName},a}(),Zh=Ah.get(qh),$h=function(){function a(a){void 0===a&&(a=!0),this._console=console,this.rethrowError=a}return a.prototype.handleError=function(a){var b=this._findOriginalError(a),c=this._findOriginalStack(a),d=this._findContext(a);if(this._console.error("EXCEPTION: "+this._extractMessage(a)),b&&this._console.error("ORIGINAL EXCEPTION: "+this._extractMessage(b)),c&&(this._console.error("ORIGINAL STACKTRACE:"),this._console.error(c)),d&&(this._console.error("ERROR CONTEXT:"),this._console.error(d)),this.rethrowError)throw a},a.prototype._extractMessage=function(a){return a instanceof Error?a.message:a.toString()},a.prototype._findContext=function(a){return a?a.context?a.context:this._findContext(a.originalError):null},a.prototype._findOriginalError=function(a){for(var b=a.originalError;b&&b.originalError;)b=b.originalError;return b},a.prototype._findOriginalStack=function(a){if(!(a instanceof Error))return null;for(var b=a,c=b.stack;b instanceof Error&&b.originalError;)b=b.originalError,b instanceof Error&&b.stack&&(c=b.stack);return c},a}(),_h=function(){function a(){}return a.findLast=function(a,b){for(var c=a.length-1;c>=0;c--)if(b(a[c]))return a[c];return null},a.removeAll=function(a,b){for(var c=0;c<b.length;++c){var d=a.indexOf(b[c]);d>-1&&a.splice(d,1)}},a.remove=function(a,b){var c=a.indexOf(b);return c>-1&&(a.splice(c,1),!0)},a.equals=function(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!==b[c])return!1;return!0},a.flatten=function(b){return b.reduce(function(b,c){var d=Array.isArray(c)?a.flatten(c):c;return b.concat(d)},[])},a}(),ai=new ah("Application Initializer"),bi=function(){function a(a){var b=this;this._done=!1;var c=[];if(a)for(var d=0;d<a.length;d++){var e=a[d]();M(e)&&c.push(e)}this._donePromise=Promise.all(c).then(function(){b._done=!0}),0===c.length&&(this._done=!0)}return Object.defineProperty(a.prototype,"done",{get:function(){return this._done},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"donePromise",{get:function(){return this._donePromise},enumerable:!0,configurable:!0}),a.decorators=[{type:Yg}],a.ctorParameters=function(){return[{type:Array,decorators:[{type:Wg,args:[ai]},{type:Xg}]}]},a}(),ci=new ah("AppId"),di={provide:ci,useFactory:N,deps:[]},ei=new ah("Platform Initializer"),fi=new ah("appBootstrapListener"),gi=(new ah("Application Packages Root URL"),function(){function a(){}return a.prototype.log=function(a){j(a)},a.prototype.warn=function(a){k(a)},a.decorators=[{type:Yg}],a.ctorParameters=function(){return[]},a}()),hi=function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},ii=(function(a){function b(b){a.call(this,"Can't compile synchronously as "+g(b)+" is still being loaded!"),this.compType=b}return hi(b,a),b}(lh),function(){function a(){}return a.prototype.compileModuleSync=function(a){throw P()},a.prototype.compileModuleAsync=function(a){throw P()},a.prototype.compileModuleAndAllComponentsSync=function(a){throw P()},a.prototype.compileModuleAndAllComponentsAsync=function(a){throw P()},a.prototype.getNgContentSelectors=function(a){throw P()},a.prototype.clearCache=function(){},a.prototype.clearCacheFor=function(a){},a.decorators=[{type:Yg}],a.ctorParameters=function(){return[]},a}()),ji=(new ah("compilerOptions"),function(){function a(){}return a.prototype.createCompiler=function(a){},a}()),ki=function(){function a(a){this.nativeElement=a}return a}(),li=b(function(a,b){var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};if(b.root="object"==("undefined"==typeof window?"undefined":c(window))&&window.window===window&&window||"object"==("undefined"==typeof self?"undefined":c(self))&&self.self===self&&self||"object"==("undefined"==typeof hb?"undefined":c(hb))&&hb.global===hb&&hb,!b.root)throw new Error("RxJS could not find any global context (window, self, global)")}),mi=Q,ni={isFunction:mi},oi=Array.isArray||function(a){return a&&"number"==typeof a.length},pi={isArray:oi},qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ri=R,si={isObject:ri},ti={e:{}},ui={errorObject:ti},vi=ui,wi=T,xi={tryCatch:wi},yi=hb&&hb.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},zi=function(a){function b(b){a.call(this),this.errors=b;var c=Error.call(this,b?b.length+" errors occurred during unsubscription:\n  "+b.map(function(a,b){return b+1+") "+a.toString()}).join("\n  "):"");this.name=c.name="UnsubscriptionError",this.stack=c.stack,this.message=c.message}return yi(b,a),b}(Error),Ai=zi,Bi={UnsubscriptionError:Ai},Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Di=hb&&hb.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Ei=pi,Fi=si,Gi=ni,Hi=xi,Ii=ui,Ji=Bi,Ki=function(){function a(a){this.closed=!1,a&&(this._unsubscribe=a)}return a.prototype.unsubscribe=function(){var a,b=!1;if(!this.closed){this.closed=!0;var c=this,d=c._unsubscribe,e=c._subscriptions;if(this._subscriptions=null,Gi.isFunction(d)){var f=Hi.tryCatch(d).call(this);f===Ii.errorObject&&(b=!0,a=a||(Ii.errorObject.e instanceof Ji.UnsubscriptionError?U(Ii.errorObject.e.errors):[Ii.errorObject.e]))}if(Ei.isArray(e))for(var g=-1,h=e.length;++g<h;){var i=e[g];if(Fi.isObject(i)){var f=Hi.tryCatch(i.unsubscribe).call(i);if(f===Ii.errorObject){b=!0,a=a||[];var j=Ii.errorObject.e;j instanceof Ji.UnsubscriptionError?a=a.concat(U(j.errors)):a.push(j)}}}if(b)throw new Ji.UnsubscriptionError(a)}},a.prototype.add=function(b){if(!b||b===a.EMPTY)return a.EMPTY;if(b===this)return this;var c=b;switch("undefined"==typeof b?"undefined":Ci(b)){case"function":c=new a(b);case"object":if(c.closed||"function"!=typeof c.unsubscribe)return c;if(this.closed)return c.unsubscribe(),c;break;default:throw new Error("unrecognized teardown "+b+" added to Subscription.")}var d=new Mi(c,this);return this._subscriptions=this._subscriptions||[],this._subscriptions.push(d),d},a.prototype.remove=function(b){if(null!=b&&b!==this&&b!==a.EMPTY){var c=this._subscriptions;if(c){var d=c.indexOf(b);d!==-1&&c.splice(d,1)}}},a.EMPTY=function(a){return a.closed=!0,a}(new a),a}(),Li=Ki,Mi=function(a){function b(b,c){a.call(this),this._innerSub=b,this._parent=c}return Di(b,a),b.prototype._unsubscribe=function(){var a=this,b=a._innerSub,c=a._parent;c.remove(this),b.unsubscribe()},b}(Ki),Ni=Mi,Oi={Subscription:Li,ChildSubscription:Ni},Pi={closed:!0,next:function(a){},error:function(a){throw a},complete:function(){}},Qi={empty:Pi},Ri=li,Si=Ri.root.Symbol,Ti="function"==typeof Si&&"function"==typeof Si.for?Si.for("rxSubscriber"):"@@rxSubscriber",Ui={$$rxSubscriber:Ti},Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Wi=hb&&hb.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Xi=ni,Yi=Oi,Zi=Qi,$i=Ui,_i=function(a){function b(c,d,e){switch(a.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Zi.empty;break;case 1:if(!c){this.destination=Zi.empty;break}if("object"===("undefined"==typeof c?"undefined":Vi(c))){c instanceof b?(this.destination=c,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new bj(this,c));break}default:this.syncErrorThrowable=!0,this.destination=new bj(this,c,d,e)}}return Wi(b,a),b.prototype[$i.$$rxSubscriber]=function(){return this},b.create=function(a,c,d){var e=new b(a,c,d);return e.syncErrorThrowable=!1,e},b.prototype.next=function(a){this.isStopped||this._next(a)},b.prototype.error=function(a){this.isStopped||(this.isStopped=!0,this._error(a))},b.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},b.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this))},b.prototype._next=function(a){this.destination.next(a)},b.prototype._error=function(a){this.destination.error(a),this.unsubscribe()},b.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},b}(Yi.Subscription),aj=_i,bj=function(a){function b(b,c,d,e){a.call(this),this._parent=b;var f,g=this;Xi.isFunction(c)?f=c:c&&(g=c,f=c.next,d=c.error,e=c.complete,Xi.isFunction(g.unsubscribe)&&this.add(g.unsubscribe.bind(g)),g.unsubscribe=this.unsubscribe.bind(this)),this._context=g,this._next=f,this._error=d,this._complete=e}return Wi(b,a),
b.prototype.next=function(a){if(!this.isStopped&&this._next){var b=this._parent;b.syncErrorThrowable?this.__tryOrSetError(b,this._next,a)&&this.unsubscribe():this.__tryOrUnsub(this._next,a)}},b.prototype.error=function(a){if(!this.isStopped){var b=this._parent;if(this._error)b.syncErrorThrowable?(this.__tryOrSetError(b,this._error,a),this.unsubscribe()):(this.__tryOrUnsub(this._error,a),this.unsubscribe());else{if(!b.syncErrorThrowable)throw this.unsubscribe(),a;b.syncErrorValue=a,b.syncErrorThrown=!0,this.unsubscribe()}}},b.prototype.complete=function(){if(!this.isStopped){var a=this._parent;this._complete?a.syncErrorThrowable?(this.__tryOrSetError(a,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},b.prototype.__tryOrUnsub=function(a,b){try{a.call(this._context,b)}catch(a){throw this.unsubscribe(),a}},b.prototype.__tryOrSetError=function(a,b,c){try{b.call(this._context,c)}catch(b){return a.syncErrorValue=b,a.syncErrorThrown=!0,!0}return!1},b.prototype._unsubscribe=function(){var a=this._parent;this._context=null,this._parent=null,a.unsubscribe()},b}(_i),cj={Subscriber:aj},dj=cj,ej=Ui,fj=Qi,gj=V,hj={toSubscriber:gj},ij=li,jj=W,kj=W(ij.root),lj={getSymbolObservable:jj,$$observable:kj},mj=li,nj=hj,oj=lj,pj=function(){function a(a){this._isScalar=!1,a&&(this._subscribe=a)}return a.prototype.lift=function(b){var c=new a;return c.source=this,c.operator=b,c},a.prototype.subscribe=function(a,b,c){var d=this.operator,e=nj.toSubscriber(a,b,c);if(d?d.call(e,this.source):e.add(this._subscribe(e)),e.syncErrorThrowable&&(e.syncErrorThrowable=!1,e.syncErrorThrown))throw e.syncErrorValue;return e},a.prototype.forEach=function(a,b){var c=this;if(b||(mj.root.Rx&&mj.root.Rx.config&&mj.root.Rx.config.Promise?b=mj.root.Rx.config.Promise:mj.root.Promise&&(b=mj.root.Promise)),!b)throw new Error("no Promise impl found");return new b(function(b,d){var e=c.subscribe(function(b){if(e)try{a(b)}catch(a){d(a),e.unsubscribe()}else a(b)},d,b)})},a.prototype._subscribe=function(a){return this.source.subscribe(a)},a.prototype[oj.$$observable]=function(){return this},a.create=function(b){return new a(b)},a}(),qj=pj,rj={Observable:qj},sj=hb&&hb.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},tj=function(a){function b(){var b=a.call(this,"object unsubscribed");this.name=b.name="ObjectUnsubscribedError",this.stack=b.stack,this.message=b.message}return sj(b,a),b}(Error),uj=tj,vj={ObjectUnsubscribedError:uj},wj=hb&&hb.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},xj=Oi,yj=function(a){function b(b,c){a.call(this),this.subject=b,this.subscriber=c,this.closed=!1}return wj(b,a),b.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var a=this.subject,b=a.observers;if(this.subject=null,b&&0!==b.length&&!a.isStopped&&!a.closed){var c=b.indexOf(this.subscriber);c!==-1&&b.splice(c,1)}}},b}(xj.Subscription),zj=yj,Aj={SubjectSubscription:zj},Bj=hb&&hb.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Cj=rj,Dj=cj,Ej=Oi,Fj=vj,Gj=Aj,Hj=Ui,Ij=function(a){function b(b){a.call(this,b),this.destination=b}return Bj(b,a),b}(Dj.Subscriber),Jj=function(a){function b(){a.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return Bj(b,a),b.prototype[Hj.$$rxSubscriber]=function(){return new Ij(this)},b.prototype.lift=function(a){var b=new Lj(this,this);return b.operator=a,b},b.prototype.next=function(a){if(this.closed)throw new Fj.ObjectUnsubscribedError;if(!this.isStopped)for(var b=this.observers,c=b.length,d=b.slice(),e=0;e<c;e++)d[e].next(a)},b.prototype.error=function(a){if(this.closed)throw new Fj.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=a,this.isStopped=!0;for(var b=this.observers,c=b.length,d=b.slice(),e=0;e<c;e++)d[e].error(a);this.observers.length=0},b.prototype.complete=function(){if(this.closed)throw new Fj.ObjectUnsubscribedError;this.isStopped=!0;for(var a=this.observers,b=a.length,c=a.slice(),d=0;d<b;d++)c[d].complete();this.observers.length=0},b.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},b.prototype._subscribe=function(a){if(this.closed)throw new Fj.ObjectUnsubscribedError;return this.hasError?(a.error(this.thrownError),Ej.Subscription.EMPTY):this.isStopped?(a.complete(),Ej.Subscription.EMPTY):(this.observers.push(a),new Gj.SubjectSubscription(this,a))},b.prototype.asObservable=function(){var a=new Cj.Observable;return a.source=this,a},b.create=function(a,b){return new Lj(a,b)},b}(Cj.Observable),Kj=Jj,Lj=function(a){function b(b,c){a.call(this),this.destination=b,this.source=c}return Bj(b,a),b.prototype.next=function(a){var b=this.destination;b&&b.next&&b.next(a)},b.prototype.error=function(a){var b=this.destination;b&&b.error&&this.destination.error(a)},b.prototype.complete=function(){var a=this.destination;a&&a.complete&&this.destination.complete()},b.prototype._subscribe=function(a){var b=this.source;return b?this.source.subscribe(a):Ej.Subscription.EMPTY},b}(Jj),Mj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Nj=function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Oj=function(a){function b(b){void 0===b&&(b=!1),a.call(this),this.__isAsync=b}return Nj(b,a),b.prototype.emit=function(b){a.prototype.next.call(this,b)},b.prototype.subscribe=function(b,c,d){var e,f=function(a){return null},g=function(){return null};return b&&"object"===("undefined"==typeof b?"undefined":Mj(b))?(e=this.__isAsync?function(a){setTimeout(function(){return b.next(a)})}:function(a){b.next(a)},b.error&&(f=this.__isAsync?function(a){setTimeout(function(){return b.error(a)})}:function(a){b.error(a)}),b.complete&&(g=this.__isAsync?function(){setTimeout(function(){return b.complete()})}:function(){b.complete()})):(e=this.__isAsync?function(a){setTimeout(function(){return b(a)})}:function(a){b(a)},c&&(f=this.__isAsync?function(a){setTimeout(function(){return c(a)})}:function(a){c(a)}),d&&(g=this.__isAsync?function(){setTimeout(function(){return d()})}:function(){d()})),a.prototype.subscribe.call(this,e,f,g)},b}(Kj),Pj=function(){function a(a){var b=a.enableLongStackTrace,c=void 0!==b&&b;if(this._hasPendingMicrotasks=!1,this._hasPendingMacrotasks=!1,this._isStable=!0,this._nesting=0,this._onUnstable=new Oj(!1),this._onMicrotaskEmpty=new Oj(!1),this._onStable=new Oj(!1),this._onErrorEvents=new Oj(!1),"undefined"==typeof Zone)throw new Error("Angular requires Zone.js prolyfill.");Zone.assertZonePatched(),this.outer=this.inner=Zone.current,Zone.wtfZoneSpec&&(this.inner=this.inner.fork(Zone.wtfZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(this.inner=this.inner.fork(Zone.longStackTraceZoneSpec)),this.forkInnerZoneWithAngularBehavior()}return a.isInAngularZone=function(){return Zone.current.get("isAngularZone")===!0},a.assertInAngularZone=function(){if(!a.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},a.assertNotInAngularZone=function(){if(a.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},a.prototype.run=function(a){return this.inner.run(a)},a.prototype.runGuarded=function(a){return this.inner.runGuarded(a)},a.prototype.runOutsideAngular=function(a){return this.outer.run(a)},Object.defineProperty(a.prototype,"onUnstable",{get:function(){return this._onUnstable},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"onMicrotaskEmpty",{get:function(){return this._onMicrotaskEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"onStable",{get:function(){return this._onStable},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"onError",{get:function(){return this._onErrorEvents},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isStable",{get:function(){return this._isStable},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hasPendingMicrotasks",{get:function(){return this._hasPendingMicrotasks},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hasPendingMacrotasks",{get:function(){return this._hasPendingMacrotasks},enumerable:!0,configurable:!0}),a.prototype.checkStable=function(){var a=this;if(0==this._nesting&&!this._hasPendingMicrotasks&&!this._isStable)try{this._nesting++,this._onMicrotaskEmpty.emit(null)}finally{if(this._nesting--,!this._hasPendingMicrotasks)try{this.runOutsideAngular(function(){return a._onStable.emit(null)})}finally{this._isStable=!0}}},a.prototype.forkInnerZoneWithAngularBehavior=function(){var a=this;this.inner=this.inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(b,c,d,e,f,g){try{return a.onEnter(),b.invokeTask(d,e,f,g)}finally{a.onLeave()}},onInvoke:function(b,c,d,e,f,g,h){try{return a.onEnter(),b.invoke(d,e,f,g,h)}finally{a.onLeave()}},onHasTask:function(b,c,d,e){b.hasTask(d,e),c===d&&("microTask"==e.change?a.setHasMicrotask(e.microTask):"macroTask"==e.change&&a.setHasMacrotask(e.macroTask))},onHandleError:function(b,c,d,e){return b.handleError(d,e),a.triggerError(e),!1}})},a.prototype.onEnter=function(){this._nesting++,this._isStable&&(this._isStable=!1,this._onUnstable.emit(null))},a.prototype.onLeave=function(){this._nesting--,this.checkStable()},a.prototype.setHasMicrotask=function(a){this._hasPendingMicrotasks=a,this.checkStable()},a.prototype.setHasMacrotask=function(a){this._hasPendingMacrotasks=a},a.prototype.triggerError=function(a){this._onErrorEvents.emit(a)},a}(),Qj=function(){function a(a){this._zone=a,this.entries=[]}return a.prototype.enqueue=function(a){this.entries.push(a)},a.prototype.flush=function(){var a=this;this.entries.length&&this._zone.runOutsideAngular(function(){Promise.resolve(null).then(function(){return a._triggerAnimations()})})},a.prototype._triggerAnimations=function(){for(Pj.assertNotInAngularZone();this.entries.length;){var a=this.entries.shift();a.hasStarted()||a.play()}},a.decorators=[{type:Yg}],a.ctorParameters=function(){return[{type:Pj}]},a}(),Rj=function(){function a(){}return a.prototype.supports=function(a){return K(a)},a.prototype.create=function(a,b){return new Tj(b)},a}(),Sj=function(a,b){return b},Tj=function(){function a(a){this._trackByFn=a,this._length=null,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=this._trackByFn||Sj}return Object.defineProperty(a.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),a.prototype.forEachItem=function(a){var b;for(b=this._itHead;null!==b;b=b._next)a(b)},a.prototype.forEachOperation=function(a){for(var b=this._itHead,c=this._removalsHead,d=0,e=null;b||c;){var f=!c||b&&b.currentIndex<X(c,d,e)?b:c,g=X(f,d,e),h=f.currentIndex;if(f===c)d--,c=c._nextRemoved;else if(b=b._next,null==f.previousIndex)d++;else{e||(e=[]);var i=g-d,j=h-d;if(i!=j){for(var k=0;k<i;k++){var l=k<e.length?e[k]:e[k]=0,m=l+k;j<=m&&m<i&&(e[k]=l+1)}var n=f.previousIndex;e[n]=j-i}}g!==h&&a(f,g,h)}},a.prototype.forEachPreviousItem=function(a){var b;for(b=this._previousItHead;null!==b;b=b._nextPrevious)a(b)},a.prototype.forEachAddedItem=function(a){var b;for(b=this._additionsHead;null!==b;b=b._nextAdded)a(b)},a.prototype.forEachMovedItem=function(a){var b;for(b=this._movesHead;null!==b;b=b._nextMoved)a(b)},a.prototype.forEachRemovedItem=function(a){var b;for(b=this._removalsHead;null!==b;b=b._nextRemoved)a(b)},a.prototype.forEachIdentityChange=function(a){var b;for(b=this._identityChangesHead;null!==b;b=b._nextIdentityChange)a(b)},a.prototype.diff=function(a){if(f(a)&&(a=[]),!K(a))throw new Error("Error trying to diff '"+a+"'");return this.check(a)?this:null},a.prototype.onDestroy=function(){},a.prototype.check=function(a){var b=this;this._reset();var c,d,e,f=this._itHead,g=!1;if(Array.isArray(a)){var i=a;this._length=a.length;for(var j=0;j<this._length;j++)d=i[j],e=this._trackByFn(j,d),null!==f&&h(f.trackById,e)?(g&&(f=this._verifyReinsertion(f,d,e,j)),h(f.item,d)||this._addIdentityChange(f,d)):(f=this._mismatch(f,d,e,j),g=!0),f=f._next}else c=0,L(a,function(a){e=b._trackByFn(c,a),null!==f&&h(f.trackById,e)?(g&&(f=b._verifyReinsertion(f,a,e,c)),h(f.item,a)||b._addIdentityChange(f,a)):(f=b._mismatch(f,a,e,c),g=!0),f=f._next,c++}),this._length=c;return this._truncate(f),this._collection=a,this.isDirty},Object.defineProperty(a.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),a.prototype._reset=function(){if(this.isDirty){var a=void 0,b=void 0;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=b)a.previousIndex=a.currentIndex,b=a._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},a.prototype._mismatch=function(a,b,c,d){var e;return null===a?e=this._itTail:(e=a._prev,this._remove(a)),a=null===this._linkedRecords?null:this._linkedRecords.get(c,d),null!==a?(h(a.item,b)||this._addIdentityChange(a,b),this._moveAfter(a,e,d)):(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c),null!==a?(h(a.item,b)||this._addIdentityChange(a,b),this._reinsertAfter(a,e,d)):a=this._addAfter(new Uj(b,c),e,d)),a},a.prototype._verifyReinsertion=function(a,b,c,d){var e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c);return null!==e?a=this._reinsertAfter(e,a._prev,d):a.currentIndex!=d&&(a.currentIndex=d,this._addToMoves(a,d)),a},a.prototype._truncate=function(a){for(;null!==a;){var b=a._next;this._addToRemovals(this._unlink(a)),a=b}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},a.prototype._reinsertAfter=function(a,b,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);var d=a._prevRemoved,e=a._nextRemoved;return null===d?this._removalsHead=e:d._nextRemoved=e,null===e?this._removalsTail=d:e._prevRemoved=d,this._insertAfter(a,b,c),this._addToMoves(a,c),a},a.prototype._moveAfter=function(a,b,c){return this._unlink(a),this._insertAfter(a,b,c),this._addToMoves(a,c),a},a.prototype._addAfter=function(a,b,c){return this._insertAfter(a,b,c),null===this._additionsTail?this._additionsTail=this._additionsHead=a:this._additionsTail=this._additionsTail._nextAdded=a,a},a.prototype._insertAfter=function(a,b,c){var d=null===b?this._itHead:b._next;return a._next=d,a._prev=b,null===d?this._itTail=a:d._prev=a,null===b?this._itHead=a:b._next=a,null===this._linkedRecords&&(this._linkedRecords=new Wj),this._linkedRecords.put(a),a.currentIndex=c,a},a.prototype._remove=function(a){return this._addToRemovals(this._unlink(a))},a.prototype._unlink=function(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);var b=a._prev,c=a._next;return null===b?this._itHead=c:b._next=c,null===c?this._itTail=b:c._prev=b,a},a.prototype._addToMoves=function(a,b){return a.previousIndex===b?a:(null===this._movesTail?this._movesTail=this._movesHead=a:this._movesTail=this._movesTail._nextMoved=a,a)},a.prototype._addToRemovals=function(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wj),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a},a.prototype._addIdentityChange=function(a,b){return a.item=b,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=a:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=a,a},a.prototype.toString=function(){var a=[];this.forEachItem(function(b){return a.push(b)});var b=[];this.forEachPreviousItem(function(a){return b.push(a)});var c=[];this.forEachAddedItem(function(a){return c.push(a)});var d=[];this.forEachMovedItem(function(a){return d.push(a)});var e=[];this.forEachRemovedItem(function(a){return e.push(a)});var f=[];return this.forEachIdentityChange(function(a){return f.push(a)}),"collection: "+a.join(", ")+"\nprevious: "+b.join(", ")+"\nadditions: "+c.join(", ")+"\nmoves: "+d.join(", ")+"\nremovals: "+e.join(", ")+"\nidentityChanges: "+f.join(", ")+"\n"},a}(),Uj=function(){function a(a,b){this.item=a,this.trackById=b,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return a.prototype.toString=function(){return this.previousIndex===this.currentIndex?g(this.item):g(this.item)+"["+g(this.previousIndex)+"->"+g(this.currentIndex)+"]"},a}(),Vj=function(){function a(){this._head=null,this._tail=null}return a.prototype.add=function(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)},a.prototype.get=function(a,b){var c;for(c=this._head;null!==c;c=c._nextDup)if((null===b||b<c.currentIndex)&&h(c.trackById,a))return c;return null},a.prototype.remove=function(a){var b=a._prevDup,c=a._nextDup;return null===b?this._head=c:b._nextDup=c,null===c?this._tail=b:c._prevDup=b,null===this._head},a}(),Wj=function(){function a(){this.map=new Map}return a.prototype.put=function(a){var b=a.trackById,c=this.map.get(b);c||(c=new Vj,this.map.set(b,c)),c.add(a)},a.prototype.get=function(a,b){void 0===b&&(b=null);var c=a,d=this.map.get(c);return d?d.get(a,b):null},a.prototype.remove=function(a){var b=a.trackById,c=this.map.get(b);return c.remove(a)&&this.map.delete(b),a},Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),a.prototype.clear=function(){this.map.clear()},a.prototype.toString=function(){return"_DuplicateMap("+g(this.map)+")"},a}(),Xj=function(){function a(){}return a.prototype.supports=function(a){return a instanceof Map||i(a)},a.prototype.create=function(a){return new Yj},a}(),Yj=function(){function a(){this._records=new Map,this._mapHead=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(a.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),a.prototype.forEachItem=function(a){var b;for(b=this._mapHead;null!==b;b=b._next)a(b)},a.prototype.forEachPreviousItem=function(a){var b;for(b=this._previousMapHead;null!==b;b=b._nextPrevious)a(b)},a.prototype.forEachChangedItem=function(a){var b;for(b=this._changesHead;null!==b;b=b._nextChanged)a(b)},a.prototype.forEachAddedItem=function(a){var b;for(b=this._additionsHead;null!==b;b=b._nextAdded)a(b)},a.prototype.forEachRemovedItem=function(a){var b;for(b=this._removalsHead;null!==b;b=b._nextRemoved)a(b)},a.prototype.diff=function(a){if(a){if(!(a instanceof Map||i(a)))throw new Error("Error trying to diff '"+a+"'")}else a=new Map;return this.check(a)?this:null},a.prototype.onDestroy=function(){},a.prototype.check=function(a){var b=this;this._reset();var c=this._records,d=this._mapHead,e=null,f=null,g=!1;return this._forEach(a,function(a,h){var i;d&&h===d.key?(i=d,b._maybeAddToChanges(i,a)):(g=!0,null!==d&&(b._removeFromSeq(e,d),b._addToRemovals(d)),c.has(h)?(i=c.get(h),b._maybeAddToChanges(i,a)):(i=new Zj(h),c.set(h,i),i.currentValue=a,b._addToAdditions(i))),g&&(b._isInRemovals(i)&&b._removeFromRemovals(i),null==f?b._mapHead=i:f._next=i),e=d,f=i,d=d&&d._next}),this._truncate(e,d),this.isDirty},a.prototype._reset=function(){if(this.isDirty){var a=void 0;for(a=this._previousMapHead=this._mapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=this._removalsTail=null}},a.prototype._truncate=function(a,b){for(;null!==b;){null===a?this._mapHead=null:a._next=null;var c=b._next;this._addToRemovals(b),a=b,b=c}for(var d=this._removalsHead;null!==d;d=d._nextRemoved)d.previousValue=d.currentValue,d.currentValue=null,this._records.delete(d.key)},a.prototype._maybeAddToChanges=function(a,b){h(b,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=b,this._addToChanges(a))},a.prototype._isInRemovals=function(a){return a===this._removalsHead||null!==a._nextRemoved||null!==a._prevRemoved},a.prototype._addToRemovals=function(a){null===this._removalsHead?this._removalsHead=this._removalsTail=a:(this._removalsTail._nextRemoved=a,a._prevRemoved=this._removalsTail,this._removalsTail=a)},a.prototype._removeFromSeq=function(a,b){var c=b._next;null===a?this._mapHead=c:a._next=c,b._next=null},a.prototype._removeFromRemovals=function(a){var b=a._prevRemoved,c=a._nextRemoved;null===b?this._removalsHead=c:b._nextRemoved=c,null===c?this._removalsTail=b:c._prevRemoved=b,a._prevRemoved=a._nextRemoved=null},a.prototype._addToAdditions=function(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)},a.prototype._addToChanges=function(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)},a.prototype.toString=function(){var a,b=[],c=[],d=[],e=[],f=[];for(a=this._mapHead;null!==a;a=a._next)b.push(g(a));for(a=this._previousMapHead;null!==a;a=a._nextPrevious)c.push(g(a));for(a=this._changesHead;null!==a;a=a._nextChanged)d.push(g(a));for(a=this._additionsHead;null!==a;a=a._nextAdded)e.push(g(a));for(a=this._removalsHead;null!==a;a=a._nextRemoved)f.push(g(a));return"map: "+b.join(", ")+"\nprevious: "+c.join(", ")+"\nadditions: "+e.join(", ")+"\nchanges: "+d.join(", ")+"\nremovals: "+f.join(", ")+"\n"},a.prototype._forEach=function(a,b){a instanceof Map?a.forEach(b):Object.keys(a).forEach(function(c){return b(a[c],c)})},a}(),Zj=function(){function a(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._nextAdded=null,this._nextRemoved=null,this._prevRemoved=null,this._nextChanged=null}return a.prototype.toString=function(){return h(this.previousValue,this.currentValue)?g(this.key):g(this.key)+"["+g(this.previousValue)+"->"+g(this.currentValue)+"]"},a}(),$j=function(){function a(a){this.factories=a}return a.create=function(b,c){if(e(c)){var d=c.factories.slice();return b=b.concat(d),new a(b)}return new a(b)},a.extend=function(b){return{provide:a,useFactory:function(c){if(!c)throw new Error("Cannot extend IterableDiffers without a parent injector");return a.create(b,c)},deps:[[a,new $g,new Xg]]}},a.prototype.find=function(a){var b=this.factories.find(function(b){return b.supports(a)});if(e(b))return b;throw new Error("Cannot find a differ supporting object '"+a+"' of type '"+d(a)+"'")},a}(),_j=function(){function a(a){this.factories=a}return a.create=function(b,c){if(e(c)){var d=c.factories.slice();return b=b.concat(d),new a(b)}return new a(b)},a.extend=function(b){return{provide:a,useFactory:function(c){if(!c)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return a.create(b,c)},deps:[[a,new $g,new Xg]]}},a.prototype.find=function(a){var b=this.factories.find(function(b){return b.supports(a)});if(e(b))return b;throw new Error("Cannot find a differ supporting object '"+a+"'")},a}(),ak={toString:function(){return"CD_INIT_VALUE"}},bk=function(){function a(){}return a.prototype.markForCheck=function(){},a.prototype.detach=function(){},a.prototype.detectChanges=function(){},a.prototype.checkNoChanges=function(){},a.prototype.reattach=function(){},a}(),ck=[new Xj],dk=[new Rj],ek=new $j(dk),fk=new _j(ck),gk=(function(){function a(){}return Object.defineProperty(a.prototype,"injector",{get:function(){return u()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"component",{get:function(){return u()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"providerTokens",{get:function(){return u()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"references",{get:function(){return u()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"context",{get:function(){return u()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"source",{get:function(){return u()},enumerable:!0,configurable:!0}),a}(),function(){function a(){}return a.prototype.renderComponent=function(a){},a}()),hk=function(){function a(){}return a.prototype.sanitize=function(a,b){},a}(),ik=function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},jk=function(a){function b(b,c){var d="Expression has changed after it was checked. Previous value: '"+b+"'. Current value: '"+c+"'.";b===ak&&(d+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),a.call(this,d)}return ik(b,a),b}(lh),kk=function(a){function b(b,c){a.call(this,"Error in "+c.source,b),this.context=c}return ik(b,a),b}(mh),lk=function(a){function b(b){a.call(this,"Attempt to use a destroyed view: "+b)}return ik(b,a),b}(lh),mk=function(){function a(a,b,c){this._renderer=a,this.animationQueue=c,this.sanitizer=b}return a.prototype.renderComponent=function(a){return this._renderer.renderComponent(a)},a.decorators=[{type:Yg}],a.ctorParameters=function(){return[{type:gk},{type:hk},{type:Qj}]},a}(),nk=function(){function a(){this.length=0}return a.prototype.get=function(a){},a.prototype.set=function(a,b){},a}(),ok=(new nk,function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),pk=function(){function a(){}return Object.defineProperty(a.prototype,"location",{get:function(){return u()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"injector",{get:function(){return u()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"instance",{get:function(){return u()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hostView",{get:function(){return u()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"changeDetectorRef",{get:function(){return u()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"componentType",{get:function(){return u()},enumerable:!0,configurable:!0}),a.prototype.destroy=function(){},a.prototype.onDestroy=function(a){},a}(),qk=(function(a){function b(b,c,d,e){a.call(this),this._index=b,this._parentView=c,this._nativeElement=d,this._component=e}return ok(b,a),Object.defineProperty(b.prototype,"location",{get:function(){return new ki(this._nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"injector",{get:function(){return this._parentView.injector(this._index)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"instance",{get:function(){return this._component},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"hostView",{get:function(){return this._parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"changeDetectorRef",{get:function(){return this._parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),b.prototype.destroy=function(){this._parentView.detachAndDestroy()},b.prototype.onDestroy=function(a){this.hostView.onDestroy(a)},b}(pk),function(){function a(a,b,c){this.selector=a,this._viewClass=b,this._componentType=c}return Object.defineProperty(a.prototype,"componentType",{get:function(){return this._componentType},enumerable:!0,configurable:!0}),a.prototype.create=function(a,b,c){void 0===b&&(b=null),void 0===c&&(c=null);var d=a.get(mk);b||(b=[]);var e=new this._viewClass(d,null,null,null);return e.createHostView(c,a,b)},a}()),rk=function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},sk=function(a){function b(b){a.call(this,"No component factory found for "+g(b)+". Did you add it to @NgModule.entryComponents?"),this.component=b}return rk(b,a),b}(lh),tk=function(){function a(){}return a.prototype.resolveComponentFactory=function(a){throw new sk(a)},a}(),uk=function(){function a(){}return a.prototype.resolveComponentFactory=function(a){},a.NULL=new tk,a}(),vk=function(){function a(a,b){this._parent=b,this._factories=new Map;for(var c=0;c<a.length;c++){var d=a[c];this._factories.set(d.componentType,d)}}return a.prototype.resolveComponentFactory=function(a){var b=this._factories.get(a);return b||(b=this._parent.resolveComponentFactory(a)),b},a}(),wk=Z(),xk=wk?$:function(a,b){return aa},yk=wk?_:function(a,b){return b},zk=function(){function a(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return a.prototype._watchAngularEvents=function(){var a=this;this._ngZone.onUnstable.subscribe({next:function(){a._didWork=!0,a._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){a._ngZone.onStable.subscribe({next:function(){Pj.assertNotInAngularZone(),c(function(){a._isZoneStable=!0,a._runCallbacksIfReady()})}})})},a.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},a.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},a.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},a.prototype._runCallbacksIfReady=function(){var a=this;this.isStable()?c(function(){for(;0!==a._callbacks.length;)a._callbacks.pop()(a._didWork);a._didWork=!1}):this._didWork=!0},a.prototype.whenStable=function(a){this._callbacks.push(a),this._runCallbacksIfReady()},a.prototype.getPendingRequestCount=function(){return this._pendingCount},a.prototype.findBindings=function(a,b,c){return[]},a.prototype.findProviders=function(a,b,c){return[]},a.decorators=[{type:Yg}],a.ctorParameters=function(){return[{type:Pj}]},a}(),Ak=function(){function a(){this._applications=new Map,Ck.addToWindow(this)}return a.prototype.registerApplication=function(a,b){
this._applications.set(a,b)},a.prototype.getTestability=function(a){return this._applications.get(a)},a.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},a.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},a.prototype.findTestabilityInTree=function(a,b){return void 0===b&&(b=!0),Ck.findTestabilityInTree(this,a,b)},a.decorators=[{type:Yg}],a.ctorParameters=function(){return[]},a}(),Bk=function(){function a(){}return a.prototype.addToWindow=function(a){},a.prototype.findTestabilityInTree=function(a,b,c){return null},a}(),Ck=new Bk,Dk=function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Ek=!0,Fk=!1,Gk=function(){function a(){}return a.prototype.bootstrapModuleFactory=function(a){throw u()},a.prototype.bootstrapModule=function(a,b){throw void 0===b&&(b=[]),u()},a.prototype.onDestroy=function(a){},Object.defineProperty(a.prototype,"injector",{get:function(){throw u()},enumerable:!0,configurable:!0}),a.prototype.destroy=function(){},Object.defineProperty(a.prototype,"destroyed",{get:function(){throw u()},enumerable:!0,configurable:!0}),a}(),Hk=function(a){function b(b){a.call(this),this._injector=b,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return Dk(b,a),b.prototype.onDestroy=function(a){this._destroyListeners.push(a)},Object.defineProperty(b.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),b.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(a){return a.destroy()}),this._destroyListeners.forEach(function(a){return a()}),this._destroyed=!0},b.prototype.bootstrapModuleFactory=function(a){return this._bootstrapModuleFactoryWithZone(a,null)},b.prototype._bootstrapModuleFactoryWithZone=function(a,b){var c=this;return b||(b=new Pj({enableLongStackTrace:ba()})),b.run(function(){var d=Xh.resolveAndCreate([{provide:Pj,useValue:b}],c.injector),e=a.create(d),f=e.injector.get($h,null);if(!f)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return e.onDestroy(function(){return _h.remove(c._modules,e)}),b.onError.subscribe({next:function(a){f.handleError(a)}}),ga(f,function(){var a=e.injector.get(bi);return a.donePromise.then(function(){return c._moduleDoBootstrap(e),e})})})},b.prototype.bootstrapModule=function(a,b){return void 0===b&&(b=[]),this._bootstrapModuleWithZone(a,b,null)},b.prototype._bootstrapModuleWithZone=function(a,b,c,d){var e=this;void 0===b&&(b=[]);var f=this.injector.get(ji),g=f.createCompiler(Array.isArray(b)?b:[b]);return d?g.compileModuleAndAllComponentsAsync(a).then(function(a){var b=a.ngModuleFactory,f=a.componentFactories;return d(f),e._bootstrapModuleFactoryWithZone(b,c)}):g.compileModuleAsync(a).then(function(a){return e._bootstrapModuleFactoryWithZone(a,c)})},b.prototype._moduleDoBootstrap=function(a){var b=a.injector.get(Ik);if(a.bootstrapFactories.length>0)a.bootstrapFactories.forEach(function(a){return b.bootstrap(a)});else{if(!a.instance.ngDoBootstrap)throw new Error("The module "+g(a.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');a.instance.ngDoBootstrap(b)}},b.decorators=[{type:Yg}],b.ctorParameters=function(){return[{type:qh}]},b}(Gk),Ik=function(){function a(){}return a.prototype.bootstrap=function(a){},a.prototype.tick=function(){},Object.defineProperty(a.prototype,"componentTypes",{get:function(){return u()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"components",{get:function(){return u()},enumerable:!0,configurable:!0}),a.prototype.attachView=function(a){u()},a.prototype.detachView=function(a){u()},Object.defineProperty(a.prototype,"viewCount",{get:function(){return u()},enumerable:!0,configurable:!0}),a}(),Jk=function(a){function b(b,c,d,e,f,g,h,i){var j=this;a.call(this),this._zone=b,this._console=c,this._injector=d,this._exceptionHandler=e,this._componentFactoryResolver=f,this._initStatus=g,this._testabilityRegistry=h,this._testability=i,this._bootstrapListeners=[],this._rootComponents=[],this._rootComponentTypes=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._enforceNoNewChanges=ba(),this._zone.onMicrotaskEmpty.subscribe({next:function(){j._zone.run(function(){j.tick()})}})}return Dk(b,a),b.prototype.attachView=function(a){var b=a.internalView;this._views.push(b),b.attachToAppRef(this)},b.prototype.detachView=function(a){var b=a.internalView;_h.remove(this._views,b),b.detach()},b.prototype.bootstrap=function(a){var b=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var c;c=a instanceof qk?a:this._componentFactoryResolver.resolveComponentFactory(a),this._rootComponentTypes.push(c.componentType);var d=c.create(this._injector,[],c.selector);d.onDestroy(function(){b._unloadComponent(d)});var e=d.injector.get(zk,null);return e&&d.injector.get(Ak).registerApplication(d.location.nativeElement,e),this._loadComponent(d),ba()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),d},b.prototype._loadComponent=function(a){this.attachView(a.hostView),this.tick(),this._rootComponents.push(a);var b=this._injector.get(fi,[]).concat(this._bootstrapListeners);b.forEach(function(b){return b(a)})},b.prototype._unloadComponent=function(a){this.detachView(a.hostView),_h.remove(this._rootComponents,a)},b.prototype.tick=function(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var a=b._tickScope();try{this._runningTick=!0,this._views.forEach(function(a){return a.ref.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(a){return a.ref.checkNoChanges()})}finally{this._runningTick=!1,yk(a)}},b.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(a){return a.destroy()})},Object.defineProperty(b.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"components",{get:function(){return this._rootComponents},enumerable:!0,configurable:!0}),b._tickScope=xk("ApplicationRef#tick()"),b.decorators=[{type:Yg}],b.ctorParameters=function(){return[{type:Pj},{type:gi},{type:qh},{type:$h},{type:uk},{type:bi},{type:Ak,decorators:[{type:Xg}]},{type:zk,decorators:[{type:Xg}]}]},b}(Ik),Kk=function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Lk=(function(){function a(){}return Object.defineProperty(a.prototype,"injector",{get:function(){return u()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"componentFactoryResolver",{get:function(){return u()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"instance",{get:function(){return u()},enumerable:!0,configurable:!0}),a.prototype.destroy=function(){},a.prototype.onDestroy=function(a){},a}(),function(){function a(a,b){this._injectorClass=a,this._moduleType=b}return Object.defineProperty(a.prototype,"moduleType",{get:function(){return this._moduleType},enumerable:!0,configurable:!0}),a.prototype.create=function(a){a||(a=qh.NULL);var b=new this._injectorClass(a);return b.create(),b},a}(),new Object),Mk=(function(a){function b(b,c,d){a.call(this,c,b.get(uk,uk.NULL)),this.parent=b,this.bootstrapFactories=d,this._destroyListeners=[],this._destroyed=!1}return Kk(b,a),b.prototype.create=function(){this.instance=this.createInternal()},b.prototype.createInternal=function(){},b.prototype.get=function(a,b){if(void 0===b&&(b=oh),a===qh||a===uk)return this;var c=this.getInternal(a,Lk);return c===Lk?this.parent.get(a,b):c},b.prototype.getInternal=function(a,b){},Object.defineProperty(b.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"componentFactoryResolver",{get:function(){return this},enumerable:!0,configurable:!0}),b.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+g(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,this.destroyInternal(),this._destroyListeners.forEach(function(a){return a()})},b.prototype.onDestroy=function(a){this._destroyListeners.push(a)},b.prototype.destroyInternal=function(){},b}(vk),function(){function a(){this._dirty=!0,this._results=[],this._emitter=new Oj}return Object.defineProperty(a.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),a.prototype.map=function(a){return this._results.map(a)},a.prototype.filter=function(a){return this._results.filter(a)},a.prototype.find=function(a){return this._results.find(a)},a.prototype.reduce=function(a,b){return this._results.reduce(a,b)},a.prototype.forEach=function(a){this._results.forEach(a)},a.prototype.some=function(a){return this._results.some(a)},a.prototype.toArray=function(){return this._results.slice()},a.prototype[l()]=function(){return this._results[l()]()},a.prototype.toString=function(){return this._results.toString()},a.prototype.reset=function(a){this._results=_h.flatten(a),this._dirty=!1},a.prototype.notifyOnChanges=function(){this._emitter.emit(this)},a.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(a.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),a}(),function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),Nk=function(){function a(){}return Object.defineProperty(a.prototype,"elementRef",{get:function(){return null},enumerable:!0,configurable:!0}),a.prototype.createEmbeddedView=function(a){},a}(),Ok=(function(a){function b(b,c,d){a.call(this),this._parentView=b,this._nodeIndex=c,this._nativeElement=d}return Mk(b,a),b.prototype.createEmbeddedView=function(a){var b=this._parentView.createEmbeddedViewInternal(this._nodeIndex);return b.create(a||{}),b.ref},Object.defineProperty(b.prototype,"elementRef",{get:function(){return new ki(this._nativeElement)},enumerable:!0,configurable:!0}),b}(Nk),function(){function a(){}return Object.defineProperty(a.prototype,"element",{get:function(){return u()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"injector",{get:function(){return u()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"parentInjector",{get:function(){return u()},enumerable:!0,configurable:!0}),a.prototype.clear=function(){},a.prototype.get=function(a){},Object.defineProperty(a.prototype,"length",{get:function(){return u()},enumerable:!0,configurable:!0}),a.prototype.createEmbeddedView=function(a,b,c){},a.prototype.createComponent=function(a,b,c,d){},a.prototype.insert=function(a,b){},a.prototype.move=function(a,b){},a.prototype.indexOf=function(a){},a.prototype.remove=function(a){},a.prototype.detach=function(a){},a}(),function(){function a(a){this._element=a,this._createComponentInContainerScope=xk("ViewContainerRef#createComponent()"),this._insertScope=xk("ViewContainerRef#insert()"),this._removeScope=xk("ViewContainerRef#remove()"),this._detachScope=xk("ViewContainerRef#detach()")}return a.prototype.get=function(a){return this._element.nestedViews[a].ref},Object.defineProperty(a.prototype,"length",{get:function(){var a=this._element.nestedViews;return e(a)?a.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"element",{get:function(){return this._element.elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"injector",{get:function(){return this._element.injector},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"parentInjector",{get:function(){return this._element.parentInjector},enumerable:!0,configurable:!0}),a.prototype.createEmbeddedView=function(a,b,c){void 0===b&&(b=null),void 0===c&&(c=-1);var d=a.createEmbeddedView(b);return this.insert(d,c),d},a.prototype.createComponent=function(a,b,c,d){void 0===b&&(b=-1),void 0===c&&(c=null),void 0===d&&(d=null);var e=this._createComponentInContainerScope(),f=c||this._element.parentInjector,g=a.create(f,d);return this.insert(g.hostView,b),yk(e,g)},a.prototype.insert=function(a,b){void 0===b&&(b=-1);var c=this._insertScope();b==-1&&(b=this.length);var d=a;return this._element.attachView(d.internalView,b),yk(c,d)},a.prototype.move=function(a,b){var c=this._insertScope();if(b!=-1){var d=a;return this._element.moveView(d.internalView,b),yk(c,d)}},a.prototype.indexOf=function(a){return this._element.nestedViews.indexOf(a.internalView)},a.prototype.remove=function(a){void 0===a&&(a=-1);var b=this._removeScope();a==-1&&(a=this.length-1);var c=this._element.detachView(a);c.destroy(),yk(b)},a.prototype.detach=function(a){void 0===a&&(a=-1);var b=this._detachScope();a==-1&&(a=this.length-1);var c=this._element.detachView(a);return yk(b,c.ref)},a.prototype.clear=function(){for(var a=this.length-1;a>=0;a--)this.remove(a)},a}()),Pk=function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Qk=function(a){function b(){a.apply(this,arguments)}return Pk(b,a),b.prototype.destroy=function(){},Object.defineProperty(b.prototype,"destroyed",{get:function(){return u()},enumerable:!0,configurable:!0}),b.prototype.onDestroy=function(a){},b}(bk),Rk=(function(a){function b(){a.apply(this,arguments)}return Pk(b,a),Object.defineProperty(b.prototype,"context",{get:function(){return u()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"rootNodes",{get:function(){return u()},enumerable:!0,configurable:!0}),b}(Qk),function(){function a(a,b){this._view=a,this.animationQueue=b,this._view=a,this._originalMode=this._view.cdMode}return Object.defineProperty(a.prototype,"internalView",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rootNodes",{get:function(){return this._view.flatRootNodes},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"destroyed",{get:function(){return this._view.destroyed},enumerable:!0,configurable:!0}),a.prototype.markForCheck=function(){this._view.markPathToRootAsCheckOnce()},a.prototype.detach=function(){this._view.cdMode=ch.Detached},a.prototype.detectChanges=function(){this._view.detectChanges(!1),this.animationQueue.flush()},a.prototype.checkNoChanges=function(){this._view.detectChanges(!0)},a.prototype.reattach=function(){this._view.cdMode=this._originalMode,this.markForCheck()},a.prototype.onDestroy=function(a){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(a)},a.prototype.destroy=function(){this._view.detachAndDestroy()},a}()),Sk=function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Tk=function(){function a(a,b,c){this._debugInfo=c,this.nativeNode=a,b&&b instanceof Uk?b.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(a.prototype,"injector",{get:function(){return this._debugInfo?this._debugInfo.injector:null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"componentInstance",{get:function(){return this._debugInfo?this._debugInfo.component:null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"context",{get:function(){return this._debugInfo?this._debugInfo.context:null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"references",{get:function(){return this._debugInfo?this._debugInfo.references:null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"providerTokens",{get:function(){return this._debugInfo?this._debugInfo.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"source",{get:function(){return this._debugInfo?this._debugInfo.source:null},enumerable:!0,configurable:!0}),a}(),Uk=function(a){function b(b,c,d){a.call(this,b,c,d),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=b}return Sk(b,a),b.prototype.addChild=function(a){a&&(this.childNodes.push(a),a.parent=this)},b.prototype.removeChild=function(a){var b=this.childNodes.indexOf(a);b!==-1&&(a.parent=null,this.childNodes.splice(b,1))},b.prototype.insertChildrenAfter=function(a,b){var c=this.childNodes.indexOf(a);if(c!==-1){var d=this.childNodes.slice(0,c+1),e=this.childNodes.slice(c+1);this.childNodes=d.concat(b,e);for(var f=0;f<b.length;++f){var g=b[f];g.parent&&g.parent.removeChild(g),g.parent=this}}},b.prototype.query=function(a){var b=this.queryAll(a);return b[0]||null},b.prototype.queryAll=function(a){var b=[];return ha(this,a,b),b},b.prototype.queryAllNodes=function(a){var b=[];return ia(this,a,b),b},Object.defineProperty(b.prototype,"children",{get:function(){return this.childNodes.filter(function(a){return a instanceof b})},enumerable:!0,configurable:!0}),b.prototype.triggerEventHandler=function(a,b){this.listeners.forEach(function(c){c.name==a&&c.callback(b)})},b}(Tk),Vk=[Hk,{provide:Gk,useExisting:Hk},{provide:Jh,useFactory:ja,deps:[]},{provide:Hh,useExisting:Jh},Ak,gi],Wk=(da(null,"core",Vk),new ah("LocaleId")),Xk=(new ah("Translations"),new ah("TranslationsFormat"),function(){function a(){}return a.decorators=[{type:ih,args:[{providers:[Jk,{provide:Ik,useExisting:Jk},bi,ii,di,mk,Qj,{provide:$j,useFactory:ka},{provide:_j,useFactory:la},{provide:Wk,useFactory:ma,deps:[[new Wg(Wk),new Xg,new $g]]}]}]}],a.ctorParameters=function(){return[]},a}(),function(){function a(a){var b=this;this._players=a,this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this.parentPlayer=null;var d=0,e=this._players.length;0==e?c(function(){return b._onFinish()}):this._players.forEach(function(a){a.parentPlayer=b,a.onDone(function(){++d>=e&&b._onFinish()})})}return a.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(a){return a()}),this._onDoneFns=[])},a.prototype.init=function(){this._players.forEach(function(a){return a.init()})},a.prototype.onStart=function(a){this._onStartFns.push(a)},a.prototype.onDone=function(a){this._onDoneFns.push(a)},a.prototype.hasStarted=function(){return this._started},a.prototype.play=function(){e(this.parentPlayer)||this.init(),this.hasStarted()||(this._onStartFns.forEach(function(a){return a()}),this._onStartFns=[],this._started=!0),this._players.forEach(function(a){return a.play()})},a.prototype.pause=function(){this._players.forEach(function(a){return a.pause()})},a.prototype.restart=function(){this._players.forEach(function(a){return a.restart()})},a.prototype.finish=function(){this._onFinish(),this._players.forEach(function(a){return a.finish()})},a.prototype.destroy=function(){this._destroyed||(this._onFinish(),this._players.forEach(function(a){return a.destroy()}),this._destroyed=!0)},a.prototype.reset=function(){this._players.forEach(function(a){return a.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},a.prototype.setPosition=function(a){this._players.forEach(function(b){b.setPosition(a)})},a.prototype.getPosition=function(){var a=0;return this._players.forEach(function(b){var c=b.getPosition();a=Math.min(c,a)}),a},Object.defineProperty(a.prototype,"players",{get:function(){return this._players},enumerable:!0,configurable:!0}),a}()),Yk=(function(){function a(){}return a.prototype.onDone=function(a){},a.prototype.onStart=function(a){},a.prototype.init=function(){},a.prototype.hasStarted=function(){},a.prototype.play=function(){},a.prototype.pause=function(){},a.prototype.restart=function(){},a.prototype.finish=function(){},a.prototype.destroy=function(){},a.prototype.reset=function(){},a.prototype.setPosition=function(a){},a.prototype.getPosition=function(){},Object.defineProperty(a.prototype,"parentPlayer",{get:function(){throw new Error("NOT IMPLEMENTED: Base Class")},set:function(a){throw new Error("NOT IMPLEMENTED: Base Class")},enumerable:!0,configurable:!0}),a}(),function(){function a(){var a=this;this._onDoneFns=[],this._onStartFns=[],this._started=!1,this.parentPlayer=null,c(function(){return a._onFinish()})}return a.prototype._onFinish=function(){this._onDoneFns.forEach(function(a){return a()}),this._onDoneFns=[]},a.prototype.onStart=function(a){this._onStartFns.push(a)},a.prototype.onDone=function(a){this._onDoneFns.push(a)},a.prototype.hasStarted=function(){return this._started},a.prototype.init=function(){},a.prototype.play=function(){this.hasStarted()||(this._onStartFns.forEach(function(a){return a()}),this._onStartFns=[]),this._started=!0},a.prototype.pause=function(){},a.prototype.restart=function(){},a.prototype.finish=function(){this._onFinish()},a.prototype.destroy=function(){},a.prototype.reset=function(){},a.prototype.setPosition=function(a){},a.prototype.getPosition=function(){return 0},a}()),Zk=function(){function a(a){var b=this;this._players=a,this._currentIndex=0,this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this.parentPlayer=null,this._players.forEach(function(a){a.parentPlayer=b}),this._onNext(!1)}return a.prototype._onNext=function(a){var b=this;if(!this._finished)if(0==this._players.length)this._activePlayer=new Yk,c(function(){return b._onFinish()});else if(this._currentIndex>=this._players.length)this._activePlayer=new Yk,this._onFinish();else{var d=this._players[this._currentIndex++];d.onDone(function(){return b._onNext(!0)}),this._activePlayer=d,a&&d.play()}},a.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(a){return a()}),this._onDoneFns=[])},a.prototype.init=function(){this._players.forEach(function(a){return a.init()})},a.prototype.onStart=function(a){this._onStartFns.push(a)},a.prototype.onDone=function(a){this._onDoneFns.push(a)},a.prototype.hasStarted=function(){return this._started},a.prototype.play=function(){e(this.parentPlayer)||this.init(),this.hasStarted()||(this._onStartFns.forEach(function(a){return a()}),this._onStartFns=[],this._started=!0),this._activePlayer.play()},a.prototype.pause=function(){this._activePlayer.pause()},a.prototype.restart=function(){this.reset(),this._players.length>0&&this._players[0].restart()},a.prototype.reset=function(){this._players.forEach(function(a){return a.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},a.prototype.finish=function(){this._onFinish(),this._players.forEach(function(a){return a.finish()})},a.prototype.destroy=function(){this._destroyed||(this._onFinish(),this._players.forEach(function(a){return a.destroy()}),this._destroyed=!0,this._activePlayer=new Yk)},a.prototype.setPosition=function(a){this._players[0].setPosition(a)},a.prototype.getPosition=function(){return this._players[0].getPosition()},Object.defineProperty(a.prototype,"players",{get:function(){return this._players},enumerable:!0,configurable:!0}),a}(),$k=function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},_k=function(){function a(){}return a}(),al=(function(a){function b(b,c){a.call(this),this.stateNameExpr=b,this.styles=c}return $k(b,a),b}(_k),function(a){function b(b,c){a.call(this),this.stateChangeExpr=b,this.steps=c}return $k(b,a),b}(_k),function(){function a(){}return a}()),bl=(function(a){function b(b){a.call(this),this.steps=b}return $k(b,a),b}(al),function(a){function b(b,c){void 0===c&&(c=null),a.call(this),this.styles=b,this.offset=c}return $k(b,a),b}(al),function(a){function b(b,c){a.call(this),this.timings=b,this.styles=c}return $k(b,a),b}(al),function(a){function b(){a.call(this)}return $k(b,a),Object.defineProperty(b.prototype,"steps",{get:function(){throw new Error("NOT IMPLEMENTED: Base Class")},enumerable:!0,configurable:!0}),b}(al)),cl=(function(a){function b(b){a.call(this),this._steps=b}return $k(b,a),Object.defineProperty(b.prototype,"steps",{get:function(){return this._steps},enumerable:!0,configurable:!0}),b}(bl),function(a){function b(b){a.call(this),this._steps=b}return $k(b,a),Object.defineProperty(b.prototype,"steps",{get:function(){return this._steps},enumerable:!0,configurable:!0}),b}(bl),{});cl.HOST=0,cl.COMPONENT=1,cl.EMBEDDED=2,cl[cl.HOST]="HOST",cl[cl.COMPONENT]="COMPONENT",cl[cl.EMBEDDED]="EMBEDDED";var dl=function(){function a(a,b,c,d){this._view=a,this._nodeIndex=b,this._tplRow=c,this._tplCol=d}return Object.defineProperty(a.prototype,"_staticNodeInfo",{get:function(){return e(this._nodeIndex)?this._view.staticNodeDebugInfos[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"component",{get:function(){var a=this._staticNodeInfo;return e(a)&&e(a.componentToken)?this.injector.get(a.componentToken):null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"componentRenderElement",{get:function(){for(var a=this._view;e(a.parentView)&&a.type!==cl.COMPONENT;)a=a.parentView;return a.parentElement},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"injector",{get:function(){return this._view.injector(this._nodeIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"renderNode",{get:function(){return e(this._nodeIndex)&&this._view.allNodes?this._view.allNodes[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"providerTokens",{get:function(){var a=this._staticNodeInfo;return e(a)?a.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"source",{get:function(){return this._view.componentType.templateUrl+":"+this._tplRow+":"+this._tplCol},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"references",{get:function(){var a=this,b={},c=this._staticNodeInfo;if(e(c)){var d=c.refTokens;Object.keys(d).forEach(function(c){var e,g=d[c];e=f(g)?a._view.allNodes?a._view.allNodes[a._nodeIndex]:null:a._view.injectorGet(g,a._nodeIndex,null),b[c]=e})}return b},enumerable:!0,configurable:!0}),a}(),el=function(){function a(){this._map=new Map,this._allPlayers=[]}return a.prototype.find=function(a,b){var c=this._map.get(a);if(e(c))return c[b]},a.prototype.findAllPlayersByElement=function(a){var b=this._map.get(a);return b?Object.keys(b).map(function(a){return b[a]}):[]},a.prototype.set=function(a,b,c){var d=this._map.get(a);e(d)||(d={});var f=d[b];e(f)&&this.remove(a,b),d[b]=c,this._allPlayers.push(c),this._map.set(a,d)},a.prototype.getAllPlayers=function(){return this._allPlayers},a.prototype.remove=function(a,b,c){void 0===c&&(c=null);var d=this._map.get(a);if(d){var e=d[b];if(!c||e===c){delete d[b];var f=this._allPlayers.indexOf(e);this._allPlayers.splice(f,1),0===Object.keys(d).length&&this._map.delete(a)}}},a}(),fl=function(){function a(a){this._animationQueue=a,this._players=new el}return a.prototype.onAllActiveAnimationsDone=function(a){var b=this._players.getAllPlayers();b.length?new Xk(b).onDone(function(){return a()}):a()},a.prototype.queueAnimation=function(a,b,c){var d=this;this._animationQueue.enqueue(c),this._players.set(a,b,c),c.onDone(function(){return d._players.remove(a,b,c)})},a.prototype.getAnimationPlayers=function(a,b){void 0===b&&(b=null);var c=[];if(b){var d=this._players.find(a,b);d&&na(d,c)}else this._players.findAllPlayersByElement(a).forEach(function(a){return na(a,c)});return c},a}(),gl=function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},hl=function(a){function b(b,c){a.call(this),this._view=b,this._nodeIndex=c}return gl(b,a),b.prototype.get=function(a,b){return void 0===b&&(b=oh),this._view.injectorGet(a,this._nodeIndex,b)},b}(qh),il=function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},jl=xk("AppView#check(ascii id)"),kl=new Object,ll=new Object,ml=function(){function a(a,b,c,d,e,f,g,h,i){void 0===i&&(i=null),this.clazz=a,this.componentType=b,this.type=c,this.viewUtils=d,this.parentView=e,this.parentIndex=f,this.parentElement=g,this.cdMode=h,this.declaredViewContainer=i,this.numberOfChecks=0,this.ref=new Rk(this,d.animationQueue),c===cl.COMPONENT||c===cl.HOST?this.renderer=d.renderComponent(b):this.renderer=e.renderer,this._directRenderer=this.renderer.directRenderer}return Object.defineProperty(a.prototype,"animationContext",{get:function(){return this._animationContext||(this._animationContext=new fl(this.viewUtils.animationQueue)),this._animationContext},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"destroyed",{get:function(){return this.cdMode===ch.Destroyed},enumerable:!0,configurable:!0}),a.prototype.create=function(a){return this.context=a,this.createInternal(null)},a.prototype.createHostView=function(a,b,c){return this.context=kl,this._hasExternalHostElement=e(a),this._hostInjector=b,this._hostProjectableNodes=c,this.createInternal(a)},a.prototype.createInternal=function(a){return null},a.prototype.createEmbeddedViewInternal=function(a){return null},a.prototype.init=function(a,b,c){this.lastRootNode=a,this.allNodes=b,this.disposables=c,this.type===cl.COMPONENT&&this.dirtyParentQueriesInternal()},a.prototype.injectorGet=function(a,b,c){void 0===c&&(c=oh);for(var d=ll,f=this;d===ll;)e(b)&&(d=f.injectorGetInternal(a,b,ll)),d===ll&&f.type===cl.HOST&&(d=f._hostInjector.get(a,c)),b=f.parentIndex,f=f.parentView;return d},a.prototype.injectorGetInternal=function(a,b,c){return c},a.prototype.injector=function(a){return new hl(this,a)},a.prototype.detachAndDestroy=function(){this.viewContainer?this.viewContainer.detachView(this.viewContainer.nestedViews.indexOf(this)):this.appRef?this.appRef.detachView(this.ref):this._hasExternalHostElement&&this.detach(),this.destroy()},a.prototype.destroy=function(){var a=this;if(this.cdMode!==ch.Destroyed){var b=this.type===cl.COMPONENT?this.parentElement:null;if(this.disposables)for(var c=0;c<this.disposables.length;c++)this.disposables[c]();this.destroyInternal(),this.dirtyParentQueriesInternal(),this._animationContext?this._animationContext.onAllActiveAnimationsDone(function(){return a.renderer.destroyView(b,a.allNodes)}):this.renderer.destroyView(b,this.allNodes),this.cdMode=ch.Destroyed}},a.prototype.destroyInternal=function(){},a.prototype.detachInternal=function(){},a.prototype.detach=function(){var a=this;if(this.detachInternal(),this._animationContext?this._animationContext.onAllActiveAnimationsDone(function(){return a._renderDetach()}):this._renderDetach(),this.declaredViewContainer&&this.declaredViewContainer!==this.viewContainer&&this.declaredViewContainer.projectedViews){var b=this.declaredViewContainer.projectedViews,c=b.indexOf(this);c>=b.length-1?b.pop():b.splice(c,1);
}this.appRef=null,this.viewContainer=null,this.dirtyParentQueriesInternal()},a.prototype._renderDetach=function(){this._directRenderer?this.visitRootNodesInternal(this._directRenderer.remove,null):this.renderer.detachView(this.flatRootNodes)},a.prototype.attachToAppRef=function(a){if(this.viewContainer)throw new Error("This view is already attached to a ViewContainer!");this.appRef=a,this.dirtyParentQueriesInternal()},a.prototype.attachAfter=function(a,b){if(this.appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._renderAttach(a,b),this.viewContainer=a,this.declaredViewContainer&&this.declaredViewContainer!==a&&(this.declaredViewContainer.projectedViews||(this.declaredViewContainer.projectedViews=[]),this.declaredViewContainer.projectedViews.push(this)),this.dirtyParentQueriesInternal()},a.prototype.moveAfter=function(a,b){this._renderAttach(a,b),this.dirtyParentQueriesInternal()},a.prototype._renderAttach=function(a,b){var c=b?b.lastRootNode:a.nativeElement;if(this._directRenderer){var d=this._directRenderer.nextSibling(c);if(d)this.visitRootNodesInternal(this._directRenderer.insertBefore,d);else{var e=this._directRenderer.parentElement(c);e&&this.visitRootNodesInternal(this._directRenderer.appendChild,e)}}else this.renderer.attachViewAfter(c,this.flatRootNodes)},Object.defineProperty(a.prototype,"changeDetectorRef",{get:function(){return this.ref},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"flatRootNodes",{get:function(){var a=[];return this.visitRootNodesInternal(Y,a),a},enumerable:!0,configurable:!0}),a.prototype.projectNodes=function(a,b){if(this._directRenderer)this.visitProjectedNodes(b,this._directRenderer.appendChild,a);else{var c=[];this.visitProjectedNodes(b,Y,c),this.renderer.projectNodes(a,c)}},a.prototype.visitProjectedNodes=function(a,b,c){switch(this.type){case cl.EMBEDDED:this.parentView.visitProjectedNodes(a,b,c);break;case cl.COMPONENT:if(this.parentView.type===cl.HOST)for(var d=this.parentView._hostProjectableNodes[a]||[],e=0;e<d.length;e++)b(d[e],c);else this.parentView.visitProjectableNodesInternal(this.parentIndex,a,b,c)}},a.prototype.visitRootNodesInternal=function(a,b){},a.prototype.visitProjectableNodesInternal=function(a,b,c,d){},a.prototype.dirtyParentQueriesInternal=function(){},a.prototype.internalDetectChanges=function(a){this.cdMode!==ch.Detached&&this.detectChanges(a)},a.prototype.detectChanges=function(a){var b=jl(this.clazz);this.cdMode!==ch.Checked&&this.cdMode!==ch.Errored&&(this.cdMode===ch.Destroyed&&this.throwDestroyedError("detectChanges"),this.detectChangesInternal(a),this.cdMode===ch.CheckOnce&&(this.cdMode=ch.Checked),this.numberOfChecks++,yk(b))},a.prototype.detectChangesInternal=function(a){},a.prototype.markAsCheckOnce=function(){this.cdMode=ch.CheckOnce},a.prototype.markPathToRootAsCheckOnce=function(){for(var a=this;e(a)&&a.cdMode!==ch.Detached;)a.cdMode===ch.Checked&&(a.cdMode=ch.CheckOnce),a=a.type===cl.COMPONENT?a.parentView:a.viewContainer?a.viewContainer.parentView:null},a.prototype.eventHandler=function(a){return a},a.prototype.throwDestroyedError=function(a){throw new lk(a)},a}(),nl=(function(a){function b(b,c,d,e,f,g,h,i,j,k){void 0===k&&(k=null),a.call(this,b,c,d,e,f,g,h,i,k),this.staticNodeDebugInfos=j,this._currentDebugContext=null}return il(b,a),b.prototype.create=function(b){this._resetDebug();try{return a.prototype.create.call(this,b)}catch(a){throw this._rethrowWithContext(a),a}},b.prototype.createHostView=function(b,c,d){void 0===d&&(d=null),this._resetDebug();try{return a.prototype.createHostView.call(this,b,c,d)}catch(a){throw this._rethrowWithContext(a),a}},b.prototype.injectorGet=function(b,c,d){this._resetDebug();try{return a.prototype.injectorGet.call(this,b,c,d)}catch(a){throw this._rethrowWithContext(a),a}},b.prototype.detach=function(){this._resetDebug();try{a.prototype.detach.call(this)}catch(a){throw this._rethrowWithContext(a),a}},b.prototype.destroy=function(){this._resetDebug();try{a.prototype.destroy.call(this)}catch(a){throw this._rethrowWithContext(a),a}},b.prototype.detectChanges=function(b){this._resetDebug();try{a.prototype.detectChanges.call(this,b)}catch(a){throw this._rethrowWithContext(a),a}},b.prototype._resetDebug=function(){this._currentDebugContext=null},b.prototype.debug=function(a,b,c){return this._currentDebugContext=new dl(this,a,b,c)},b.prototype._rethrowWithContext=function(a){if(!(a instanceof kk)&&(a instanceof jk||(this.cdMode=ch.Errored),e(this._currentDebugContext)))throw new kk(a,this._currentDebugContext)},b.prototype.eventHandler=function(b){var c=this,d=a.prototype.eventHandler.call(this,b);return function(a,b){c._resetDebug();try{return d.call(c,a,b)}catch(a){throw c._rethrowWithContext(a),a}}},b}(ml),function(){function a(a,b,c,d){this.index=a,this.parentIndex=b,this.parentView=c,this.nativeElement=d}return Object.defineProperty(a.prototype,"elementRef",{get:function(){return new ki(this.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"vcRef",{get:function(){return new Ok(this)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"parentInjector",{get:function(){return this.parentView.injector(this.parentIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"injector",{get:function(){return this.parentView.injector(this.index)},enumerable:!0,configurable:!0}),a.prototype.detectChangesInNestedViews=function(a){if(this.nestedViews)for(var b=0;b<this.nestedViews.length;b++)this.nestedViews[b].detectChanges(a)},a.prototype.destroyNestedViews=function(){if(this.nestedViews)for(var a=0;a<this.nestedViews.length;a++)this.nestedViews[a].destroy()},a.prototype.visitNestedViewRootNodes=function(a,b){if(this.nestedViews)for(var c=0;c<this.nestedViews.length;c++)this.nestedViews[c].visitRootNodesInternal(a,b)},a.prototype.mapNestedViews=function(a,b){var c=[];if(this.nestedViews)for(var d=0;d<this.nestedViews.length;d++){var e=this.nestedViews[d];e.clazz===a&&c.push(b(e))}if(this.projectedViews)for(var d=0;d<this.projectedViews.length;d++){var f=this.projectedViews[d];f.clazz===a&&c.push(b(f))}return c},a.prototype.moveView=function(a,b){var c=this.nestedViews.indexOf(a);if(a.type===cl.COMPONENT)throw new Error("Component views can't be moved!");var d=this.nestedViews;null==d&&(d=[],this.nestedViews=d),d.splice(c,1),d.splice(b,0,a);var e=b>0?d[b-1]:null;a.moveAfter(this,e)},a.prototype.attachView=function(a,b){if(a.type===cl.COMPONENT)throw new Error("Component views can't be moved!");var c=this.nestedViews;null==c&&(c=[],this.nestedViews=c),b>=c.length?c.push(a):c.splice(b,0,a);var d=b>0?c[b-1]:null;a.attachAfter(this,d)},a.prototype.detachView=function(a){var b=this.nestedViews[a];if(a>=this.nestedViews.length-1?this.nestedViews.pop():this.nestedViews.splice(a,1),b.type===cl.COMPONENT)throw new Error("Component views can't be moved!");return b.detach(),b},a}(),function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}()),ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},pl=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":ol(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},ql=function(){function a(){oa(this,a)}return nl(a,[{key:"create",value:function(){try{return new DOMException("","EncodingError")}catch(b){var a=new Error;return a.code=0,a.name="EncodingError",a}}}]),a}();ql=pl([Yg()],ql);var rl=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},tl=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":sl(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},ul=function(){function a(){pa(this,a)}return rl(a,[{key:"create",value:function(){try{return new DOMException("","InvalidStateError")}catch(b){var a=new Error;return a.code=11,a.name="InvalidStateError",a}}}]),a}();ul=tl([Yg()],ul);var vl=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},xl=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":wl(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},yl=function(){function a(){qa(this,a)}return vl(a,[{key:"create",value:function(){try{return new DOMException("","NotSupportedError")}catch(b){var a=new Error;return a.code=9,a.name="NotSupportedError",a}}}]),a}();yl=xl([Yg()],yl);var zl=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Al=function(){function a(b){var c=b.channelCountMode,d=b.channelInterpretation,e=b.fakeNodeStore,f=b.numberOfInputs,g=b.numberOfOutputs;ra(this,a),this._channelCountMode=c,this._channelInterpretation=d,this._fakeNodeStore=e,this._numberOfInputs=f,this._numberOfOutputs=g}return zl(a,[{key:"connect",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,d=this._fakeNodeStore.get(a);return d.wire(this._fakeNodeStore.get(this),b,c)}},{key:"disconnect",value:function(a){var b=this._fakeNodeStore.get(a);return b.unwire(this._fakeNodeStore.get(this))}},{key:"channelCountMode",get:function(){return this._channelCountMode},set:function(a){this._channelCountMode=a}},{key:"channelInterpretation",get:function(){return this._channelInterpretation},set:function(a){this._channelInterpretation=a}},{key:"numberOfInputs",get:function(){return this._numberOfInputs},set:function(a){this._numberOfInputs=a}},{key:"numberOfOutputs",get:function(){return this._numberOfOutputs},set:function(a){this._numberOfOutputs=a}}]),a}(),Bl=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Cl=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},El=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":Dl(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},Fl=function(a){function b(a){var c=a.fakeNodeStore;sa(this,b);var d=ta(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{fakeNodeStore:c}));return d._buffer=void 0,d._ownFakeNodeStore=c,d}return ua(b,a),Cl(b,[{key:"start",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments[2],d=this._ownFakeNodeStore.get(this);d.start={duration:c,offset:b,when:a}}},{key:"buffer",get:function(){return this._buffer},set:function(a){this._buffer=a}}]),b}(Al),Gl=function(){function a(b){var c=b.fakeNodeStore;sa(this,a),this._node=null,this._proxy=new Fl({fakeNodeStore:c}),this._sources=new Map,this._start=null,c.set(this._proxy,this)}return Cl(a,[{key:"render",value:function(a){var b=this;if(null!==this._node)return Promise.resolve(this._node);var c=[];if(this._node=a.createBufferSource(),this._node.buffer=this._proxy.buffer,null!==this._start){var d=this._start,e=d.duration,f=d.offset,g=d.when;void 0===e?this._node.start(g,f):this._node.start(g,f,e)}var h=!0,i=!1,j=void 0;try{for(var k,l=function(){var d=Bl(k.value,2),e=d[0],f=d[1],g=f.input,h=f.output;c.push(e.render(a).then(function(a){return a.connect(b._node,h,g)}))},m=this._sources[Symbol.iterator]();!(h=(k=m.next()).done);h=!0)l()}catch(a){i=!0,j=a}finally{try{!h&&m.return&&m.return()}finally{if(i)throw j}}return Promise.all(c).then(function(){return b._node})}},{key:"wire",value:function(a,b,c){return this._sources.set(a,{input:c,output:b}),this._proxy}},{key:"proxy",get:function(){return this._proxy}},{key:"start",set:function(a){this._start=a}}]),a}(),Hl=function(){function a(){sa(this,a)}return Cl(a,[{key:"create",value:function(a){var b=a.fakeNodeStore;return new Gl({fakeNodeStore:b})}}]),a}();Hl=El([Yg()],Hl);var Il=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Jl=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ll=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":Kl(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},Ml=function(a){function b(a){var c=a.fakeNodeStore;return va(this,b),wa(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{channelCountMode:"max",channelInterpretation:"speakers",fakeNodeStore:c,numberOfInputs:1,numberOfOutputs:0}))}return xa(b,a),Jl(b,[{key:"maxChannelCount",get:function(){return 2}}]),b}(Al),Nl=function(){function a(b){var c=b.fakeNodeStore;va(this,a),this._node=null,this._proxy=new Ml({fakeNodeStore:c}),this._sources=new Map,c.set(this._proxy,this)}return Jl(a,[{key:"render",value:function(a){var b=this;if(null!==this._node)return Promise.resolve(this._node);var c=[];this._node=a.destination;var d=!0,e=!1,f=void 0;try{for(var g,h=function(){var d=Il(g.value,2),e=d[0],f=d[1],h=f.input,i=f.output;c.push(e.render(a).then(function(a){return a.connect(b._node,i,h)}))},i=this._sources[Symbol.iterator]();!(d=(g=i.next()).done);d=!0)h()}catch(a){e=!0,f=a}finally{try{!d&&i.return&&i.return()}finally{if(e)throw f}}return Promise.all(c).then(function(){return b._node})}},{key:"wire",value:function(a,b,c){return this._sources.set(a,{input:c,output:b}),this._proxy}},{key:"proxy",get:function(){return this._proxy}}]),a}(),Ol=function(){function a(){va(this,a)}return Jl(a,[{key:"create",value:function(a){var b=a.fakeNodeStore;return new Nl({fakeNodeStore:b})}}]),a}();Ol=Ll([Yg()],Ol);var Pl=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ql=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Sl=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":Rl(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},Tl=function(a){function b(a){var c=a.fakeNodeStore,d=a.nativeNode;ya(this,b);var e=za(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{channelCountMode:"max",channelInterpretation:"speakers",fakeNodeStore:c,numberOfInputs:1,numberOfOutputs:1}));return e._nativeNode=d,e._type=d.type,e}return Aa(b,a),Ql(b,[{key:"getFrequencyResponse",value:function(a,b,c){return this._nativeNode.getFrequencyResponse(a,b,c)}},{key:"detune",get:function(){return{cancelScheduledValues:function(){},defaultValue:0,exponentialRampToValueAtTime:function(){},linearRampToValueAtTime:function(){},setTargetAtTime:function(){},setValueCurveAtTime:function(){},value:0}}},{key:"frequency",get:function(){return{cancelScheduledValues:function(){},defaultValue:350,exponentialRampToValueAtTime:function(){},linearRampToValueAtTime:function(){},setTargetAtTime:function(){},setValueCurveAtTime:function(){},value:350}}},{key:"gain",get:function(){return{cancelScheduledValues:function(){},defaultValue:0,exponentialRampToValueAtTime:function(){},linearRampToValueAtTime:function(){},setTargetAtTime:function(){},setValueCurveAtTime:function(){},value:0}}},{key:"Q",get:function(){return{cancelScheduledValues:function(){},defaultValue:1,exponentialRampToValueAtTime:function(){},linearRampToValueAtTime:function(){},setTargetAtTime:function(){},setValueCurveAtTime:function(){},value:1}}},{key:"type",get:function(){return this._type},set:function(a){this._type=a}}]),b}(Al),Ul=function(){function a(b){var c=b.fakeNodeStore,d=b.nativeNode;ya(this,a),this._node=null,this._proxy=new Tl({fakeNodeStore:c,nativeNode:d}),this._sources=new Map,c.set(this._proxy,this)}return Ql(a,[{key:"render",value:function(a){var b=this;if(null!==this._node)return Promise.resolve(this._node);var c=[];this._node=a.createBiquadFilter(),this._node.type=this._proxy.type;var d=!0,e=!1,f=void 0;try{for(var g,h=function(){var d=Pl(g.value,2),e=d[0],f=d[1],h=f.input,i=f.output;c.push(e.render(a).then(function(a){return a.connect(b._node,i,h)}))},i=this._sources[Symbol.iterator]();!(d=(g=i.next()).done);d=!0)h()}catch(a){e=!0,f=a}finally{try{!d&&i.return&&i.return()}finally{if(e)throw f}}return Promise.all(c).then(function(){return b._node})}},{key:"wire",value:function(a,b,c){return this._sources.set(a,{input:c,output:b}),this._proxy}},{key:"unwire",value:function(a){this._sources.delete(a)}},{key:"proxy",get:function(){return this._proxy}}]),a}(),Vl=function(){function a(){ya(this,a)}return Ql(a,[{key:"create",value:function(a){var b=a.fakeNodeStore,c=a.nativeNode;return new Ul({fakeNodeStore:b,nativeNode:c})}}]),a}();Vl=Sl([Yg()],Vl);var Wl=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Xl=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Zl=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":Yl(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},$l=function(a){function b(a){var c=a.fakeNodeStore;return Ba(this,b),Ca(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{channelCountMode:"max",channelInterpretation:"speakers",fakeNodeStore:c,numberOfInputs:1,numberOfOutputs:1}))}return Da(b,a),Xl(b,[{key:"gain",get:function(){return{cancelScheduledValues:function(){},defaultValue:1,exponentialRampToValueAtTime:function(){},linearRampToValueAtTime:function(){},setTargetAtTime:function(){},setValueCurveAtTime:function(){},value:1}}}]),b}(Al),_l=function(){function a(b){var c=b.fakeNodeStore;Ba(this,a),this._node=null,this._proxy=new $l({fakeNodeStore:c}),this._sources=new Map,c.set(this._proxy,this)}return Xl(a,[{key:"render",value:function(a){var b=this;if(null!==this._node)return Promise.resolve(this._node);var c=[];this._node=a.createGain();var d=!0,e=!1,f=void 0;try{for(var g,h=function(){var d=Wl(g.value,2),e=d[0],f=d[1],h=f.input,i=f.output;c.push(e.render(a).then(function(a){return a.connect(b._node,i,h)}))},i=this._sources[Symbol.iterator]();!(d=(g=i.next()).done);d=!0)h()}catch(a){e=!0,f=a}finally{try{!d&&i.return&&i.return()}finally{if(e)throw f}}return Promise.all(c).then(function(){return b._node})}},{key:"wire",value:function(a,b,c){return this._sources.set(a,{input:c,output:b}),this._proxy}},{key:"unwire",value:function(a){this._sources.delete(a)}},{key:"proxy",get:function(){return this._proxy}}]),a}(),am=function(){function a(){Ba(this,a)}return Xl(a,[{key:"create",value:function(a){var b=a.fakeNodeStore;return new _l({fakeNodeStore:b})}}]),a}();am=Zl([Yg()],am);var bm=new ah("WINDOW"),cm={provide:bm,useValue:window},dm=new ah("UNPATCHED_OFFLINE_AUDIO_CONTEXT_CONSTRUCTOR"),em={deps:[bm],provide:dm,useFactory:function(a){return a.hasOwnProperty("OfflineAudioContext")?a.OfflineAudioContext:a.hasOwnProperty("webkitOfflineAudioContext")?a.webkitOfflineAudioContext:null}},fm=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},hm=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":gm(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},im=function(){function a(){Ea(this,a)}return fm(a,[{key:"test",value:function(a){var b=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{var c=a.decodeAudioData(b.buffer,function(){});return void 0!==c&&(c.catch(function(){}),!0)}catch(a){}return!1}}]),a}();im=hm([Yg()],im);var jm=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),km=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},mm=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":lm(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},nm=function(a,b){return function(c,d){b(c,d,a)}},om=function(a){function b(a){var c=a.fakeNodeStore,d=a.feedback,e=a.feedforward,f=a.nativeNode,g=a.notSupportedErrorFactory,h=a.sampleRate;Fa(this,b);var i=Ga(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{channelCountMode:"max",channelInterpretation:"speakers",fakeNodeStore:c,numberOfInputs:1,numberOfOutputs:1}));return i._feedback=d,i._feedforward=e,i._nativeNode=f,i._notSupportedErrorFactory=g,i._nyquist=h/2,i}return Ha(b,a),km(b,[{key:"getFrequencyResponse",value:function(a,b,c){if(this._nativeNode)return this._nativeNode.getFrequencyResponse(a,b,c);if(0===b.length||0===c.length)throw this._notSupportedErrorFactory.create();for(var d=0,e=a.length;d<e;d+=1){var f=-Math.PI*(a[d]/this._nyquist),g=[Math.cos(f),Math.sin(f)],h=Ka(this._feedforward,g),i=Ka(this._feedback,g),j=Ia(h,i);b[d]=Math.sqrt(j[0]*j[0]+j[1]*j[1]),c[d]=Math.atan2(j[1],j[0])}}}]),b}(Al),pm=function(){function a(b){var c=b.fakeNodeStore,d=b.feedback,e=b.feedforward,f=b.invalidStateErrorFactory,g=b.length,h=b.nativeNode,i=b.notSupportedErrorFactory,j=b.numberOfChannels,k=b.promiseSupportTester,l=b.sampleRate,m=b.UnpatchedOfflineAudioContext;if(Fa(this,a),0===d.length||d.length>20)throw i.create();if(0===d[0])throw f.create();if(0===e.length||e.length>20)throw i.create();if(0===e[0])throw f.create();this._feedback=d,this._feedforward=e,this._invalidStateErrorFactory=f,this._length=g,this._nativeNode=h,this._node=null,this._notSupportedErrorFactory=i,this._numberOfChannels=j,this._promiseSupportTester=k,this._proxy=new om({fakeNodeStore:c,feedback:d,feedforward:e,nativeNode:h,notSupportedErrorFactory:i,sampleRate:l}),this._sources=new Map,this._UnpatchedOfflineAudioContext=m,c.set(this._proxy,this)}return km(a,[{key:"_applyFilter",value:function(a,b){var c=0,d=32,e=this._feedback,f=this._feedback.length,g=this._feedforward,h=this._feedforward.length;if(0===g.length||g.length>20||0===e.length||e.length>20)throw this._notSupportedErrorFactory.create();if(0===g[0]||0===e[0])throw this._invalidStateErrorFactory.create();if(1!==e[0]){for(var i=0,j=g.length;i<j;i+=1)g[i]/=e[0];for(var k=1,l=e.length;k<l;k+=1)e[k]/=e[0]}for(var m=new Float32Array(d),n=new Float32Array(d),o=Math.min(f,h),p=b.createBuffer(a.numberOfChannels,a.length,a.sampleRate),q=0,r=a.numberOfChannels;q<r;q+=1){for(var s=a.getChannelData(q),t=p.getChannelData(q),u=0;u<d;u+=1)m[u]=0,n[u]=0;for(var v=s.length,w=0;w<v;w+=1){for(var x=g[0]*s[w],y=1;y<o;y+=1){var z=c-y&d-1;x+=g[y]*m[z],x-=e[y]*n[z]}for(var A=o;A<h;A+=1)x+=g[A]*m[c-A&d-1];for(var B=o;B<f;B+=1)x-=e[B]*n[c-B&d-1];m[c]=s[w],n[c]=x,c=c+1&d-1,t[w]=x}}return p}},{key:"render",value:function(a){var b=this;if(null!==this._node)return Promise.resolve(this._node);var c=[];if(this._nativeNode){this._node=a.createIIRFilter(this._feedforward,this._feedback);var d=!0,e=!1,f=void 0;try{for(var g,h=function(){var d=jm(g.value,2),e=d[0],f=d[1],h=f.input,i=f.output;c.push(e.render(a).then(function(a){return a.connect(b._node,i,h)}))},i=this._sources[Symbol.iterator]();!(d=(g=i.next()).done);d=!0)h()}catch(a){e=!0,f=a}finally{try{!d&&i.return&&i.return()}finally{if(e)throw f}}return Promise.all(c).then(function(){return b._node})}var j=new this._UnpatchedOfflineAudioContext(this._numberOfChannels,this._length,a.sampleRate),k=!0,l=!1,m=void 0;try{for(var n,o=function(){var a=jm(n.value,2),b=a[0],d=a[1],e=d.input,f=d.output;c.push(b.render(j).then(function(a){return a.connect(j.destination,f,e)}))},p=this._sources[Symbol.iterator]();!(k=(n=p.next()).done);k=!0)o()}catch(a){l=!0,m=a}finally{try{!k&&p.return&&p.return()}finally{if(l)throw m}}return Promise.all(c).then(function(){return b._promiseSupportTester.test(j)?j.startRendering():new Promise(function(a){j.oncomplete=function(b){return a(b.renderedBuffer)},j.startRendering()})}).then(function(c){return b._node=a.createBufferSource(),b._node.buffer=b._applyFilter(c,a),b._node.start(0),b._node})}},{key:"wire",value:function(a,b,c){return this._sources.set(a,{input:c,output:b}),this._proxy}},{key:"unwire",value:function(a){this._sources.delete(a)}},{key:"proxy",get:function(){return this._proxy}}]),a}(),qm=function(){function a(b,c,d,e){Fa(this,a),this._UnpatchedOfflineAudioContext=b,this._invalidStateErrorFactory=c,this._notSupportedErrorFactory=d,this._promiseSupportTester=e}return km(a,[{key:"create",value:function(a){var b=a.fakeNodeStore,c=a.feedback,d=a.feedforward,e=a.length,f=a.nativeNode,g=a.numberOfChannels,h=a.sampleRate;return new pm({UnpatchedOfflineAudioContext:this._UnpatchedOfflineAudioContext,fakeNodeStore:b,feedback:c,feedforward:d,invalidStateErrorFactory:this._invalidStateErrorFactory,length:e,nativeNode:f,notSupportedErrorFactory:this._notSupportedErrorFactory,numberOfChannels:g,promiseSupportTester:this._promiseSupportTester,sampleRate:h})}}]),a}();qm=mm([Yg(),nm(0,Wg(dm)),nm(1,Wg(ul)),nm(2,Wg(yl)),nm(3,Wg(im))],qm);var rm=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},tm=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":sm(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);
return f>3&&g&&Object.defineProperty(b,c,g),g},um=function(a,b){return function(c,d){b(c,d,a)}},vm=function(){function a(b,c){La(this,a),this._invalidStateErrorFactory=b,this._notSupportedErrorFactory=c}return rm(a,[{key:"fake",value:function(a,b,c,d){var e=this,f=0,g=32,h=b.length,i=a.length;if(0===a.length||a.length>20||0===b.length||b.length>20)throw this._notSupportedErrorFactory.create();if(0===a[0]||0===b[0])throw this._invalidStateErrorFactory.create();if(1!==b[0]){for(var j=0,k=a.length;j<k;j+=1)a[j]/=b[0];for(var l=1,m=b.length;l<m;l+=1)b[l]/=b[0]}for(var n=c.createGain(),o=c.sampleRate/2,p=d.createScriptProcessor(256,n.channelCount,n.channelCount),q=p.bufferSize,r=new Float32Array(g),s=new Float32Array(g),t=Math.min(h,i),u=0;u<g;u+=1)r[u]=0,s[u]=0;return p.onaudioprocess=function(c){for(var d=c.inputBuffer,e=c.outputBuffer,j=0,k=d.numberOfChannels;j<k;j+=1)for(var l=d.getChannelData(j),m=e.getChannelData(j),n=0;n<q;n+=1){for(var o=a[0]*l[n],p=1;p<t;p+=1){var u=f-p&g-1;o+=a[p]*r[u],o-=b[p]*s[u]}for(var v=t;v<i;v+=1)o+=a[v]*r[f-v&g-1];for(var w=t;w<h;w+=1)o-=b[w]*s[f-w&g-1];r[f]=l[n],s[f]=o,f=f+1&g-1,m[n]=o}},n.getFrequencyResponse=function(c,d,f){if(0===d.length||0===f.length)throw e._notSupportedErrorFactory.create();for(var g=0,h=c.length;g<h;g+=1){var i=-Math.PI*(c[g]/o),j=[Math.cos(i),Math.sin(i)],k=Oa(a,j),l=Oa(b,j),m=Ma(k,l);d[g]=Math.sqrt(m[0]*m[0]+m[1]*m[1]),f[g]=Math.atan2(m[1],m[0])}},n.connect(p),n.connect=function(a){return p.connect.apply(p,arguments),a},n}}]),a}();vm=tm([Yg(),um(0,Wg(ul)),um(1,Wg(yl))],vm);var wm=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ym=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":xm(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},zm=function(){function a(){Pa(this,a)}return wm(a,[{key:"test",value:function(a){var b=a.createGain(),c=a.createGain(),d=c.connect(b)===b;return c.disconnect(b),d}}]),a}();zm=ym([Yg()],zm);var Am=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Bm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Cm=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":Bm(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},Dm=function(){function a(){Qa(this,a)}return Am(a,[{key:"test",value:function(a){return new Promise(function(b,c){var d=a.createScriptProcessor(256,1,1),e=a.createGain(),f=a.createBuffer(1,2,44100),g=f.getChannelData(0);g[0]=1,g[1]=1;var h=a.createBufferSource();h.buffer=f,h.loop=!0,h.connect(d),d.connect(a.destination),h.connect(e),h.disconnect(e),d.onaudioprocess=function(c){var e=c.inputBuffer.getChannelData(0);b(Array.prototype.some.call(e,function(a){return 1===a})?!0:!1),h.stop(),d.onaudioprocess=null,h.disconnect(d),d.disconnect(a.destination)},h.start()})}}]),a}();Dm=Cm([Yg()],Dm);var Em=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Gm=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":Fm(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},Hm=function(){function a(){Ra(this,a)}return Em(a,[{key:"test",value:function(a){var b=a.createBuffer(1,1,44100),c=a.createBufferSource();c.buffer=b,c.start(),c.stop();try{return c.stop(),!0}catch(a){return!1}}}]),a}();Hm=Gm([Yg()],Hm);var Im=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Km=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":Jm(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},Lm=function(){function a(){Sa(this,a)}return Im(a,[{key:"wrap",value:function(a){return a.copyFromChannel=function(b,c){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=a.getChannelData(c),f=e.length,g=b.length,h=0;h+d<f&&h<g;h+=1)b[h]=e[h+d]},a.copyToChannel=function(b,c){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=a.getChannelData(c),f=e.length,g=b.length,h=0;h+d<f&&h<g;h+=1)e[h+d]=b[h]},a}}]),a}();Lm=Km([Yg()],Lm);var Mm=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Om=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":Nm(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},Pm=function(){function a(){Ta(this,a)}return Mm(a,[{key:"wrap",value:function(a){var b=a.context.createGain();return a.connect(b),a.addEventListener("ended",function(){return a.disconnect(b)}),a.connect=function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return b.connect.call(b,a,c,d),a},a.disconnect=function(){b.disconnect.apply(b,arguments)},a.stop=function(c){var d=!1;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(d)try{c.call(a,e)}catch(a){b.gain.setValueAtTime(0,e)}else c.call(a,e),d=!0}}(a.stop),a}}]),a}();Pm=Om([Yg()],Pm);var Qm=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Sm=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":Rm(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},Tm=function(){function a(){Ua(this,a)}return Qm(a,[{key:"wrap",value:function(a){return a.connect=function(b){return function(c){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return b.call(a,c,d,e),c}}(a.connect),a}}]),a}();Tm=Sm([Yg()],Tm);var Um=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Wm=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":Vm(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},Xm=function(){function a(){Va(this,a)}return Um(a,[{key:"wrap",value:function(a){var b=new Map;return a.connect=function(c){return function(d){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return b.set(d,{input:f,output:e}),c.call(a,d,e,f)}}(a.connect),a.disconnect=function(c){return function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;c.apply(a),null!==d&&b.has(d)&&(b.delete(d),b.forEach(function(b,c){var d=b.input,e=b.output;a.connect(c,d,e)}))}}(a.disconnect),a}}]),a}();Xm=Wm([Yg()],Xm);var Ym=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Zm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},$m=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":Zm(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},_m=function(a,b){return function(c,d){b(c,d,a)}},an=function(){function a(b){Wa(this,a),this._invalidStateErrorFactory=b}return Ym(a,[{key:"wrap",value:function(a,b){var c=this,d=a.createBufferSource();b.channelCount=1,b.channelCountMode="explicit";for(var e=0,f=b.numberOfInputs;e<f;e+=1)d.connect(b,0,e);return Object.defineProperty(b,"channelCount",{get:function(){return 1},set:function(){throw c._invalidStateErrorFactory.create()}}),Object.defineProperty(b,"channelCountMode",{get:function(){return"explicit"},set:function(){throw c._invalidStateErrorFactory.create()}}),b}}]),a}();an=$m([Yg(),_m(0,Wg(ul))],an);var bn=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},dn=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":cn(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},en=function(a,b){return function(c,d){b(c,d,a)}},fn=function(){function a(b){Xa(this,a),this._invalidStateErrorFactory=b}return bn(a,[{key:"wrap",value:function(a){var b=this;return a.channelCountMode="explicit",a.channelInterpretation="discrete",Object.defineProperty(a,"channelCountMode",{get:function(){return"explicit"},set:function(){throw b._invalidStateErrorFactory.create()}}),Object.defineProperty(a,"channelInterpretation",{get:function(){return"discrete"},set:function(){throw b._invalidStateErrorFactory.create()}}),a}}]),a}();fn=dn([Yg(),en(0,Wg(ul))],fn);var gn=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},jn=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":hn(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},kn=function(a,b){return function(c,d){b(c,d,a)}},ln=function(){function a(b){Ya(this,a),this._notSupportedErrorFactory=b}return gn(a,[{key:"wrap",value:function(a){var b=this;return a.getFrequencyResponse=function(c){return function(d,e,f){if(0===e.length||0===f.length)throw b._notSupportedErrorFactory.create();return c.call(a,d,e,f)}}(a.getFrequencyResponse),a}}]),a}();ln=jn([Yg(),kn(0,Wg(yl))],ln);var mn=new ah("UNPATCHED_AUDIO_CONTEXT_CONSTRUCTOR"),nn={deps:[bm],provide:mn,useFactory:function(a){return a.hasOwnProperty("AudioContext")?a.AudioContext:a.hasOwnProperty("webkitAudioContext")?a.webkitAudioContext:null}},on=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),pn=[],qn=function(a){return a.getFloatTimeDomainData=function(b){var c=new Uint8Array(b.length);a.getByteTimeDomainData(c);for(var d=0,e=Math.max(c.length,a.fftSize);d<e;d+=1)b[d]=.0078125*(c[d]-128);return b},a},rn=new ah("AUDIO_CONTEXT_CONSTRUCTOR"),sn={deps:[Pm,Lm,Tm,Xm,zm,an,fn,Dm,ql,ul,vm,ln,im,Hm,mn],provide:rn,useFactory:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=function(){function p(){var a=this;Za(this,p);var b=pn.length>0?pn.shift():new o;this._isSupportingChaining=e.test(b),this._isSupportingDisconnecting=!1,this._isSupportingGetFrequencyResponseErrors=!1,this._isSupportingPromises=m.test(b),this._isSupportingStoppingOfStoppedNodes=n.test(b),this._onStateChangeListener=null,this._unpatchedAudioContext=b,this._state=void 0===b.state?"suspended":null,h.test(b).then(function(b){a._isSupportingDisconnecting=b}),void 0===b.state&&setTimeout(function(){"suspended"===a._state&&(a._state="running",null!==a._onStateChangeListener&&a._onStateChangeListener(),b.createBufferSource())},100),"running"===b.state&&!function(){a._state="suspended";var c=function c(){"suspended"===a._state&&(a._state=null),b.removeEventListener?b.removeEventListener("statechange",c):b.onchange=onchange};b.addEventListener?b.addEventListener("statechange",c):!function(){var a=b.onchange;null===a?b.onchange=c:b.onchange=function(b){c(),a(b)}}()}()}return on(p,[{key:"close",value:function(){return null===this._unpatchedAudioContext&&"closed"===this.state?Promise.reject(j.create()):void 0===this._unpatchedAudioContext.close?(pn.push(this._unpatchedAudioContext),this._unpatchedAudioContext=null,this._state="closed",Promise.resolve()):"closed"===this.state?this._unpatchedAudioContext.close().then(function(){throw j.create()}):("suspended"===this._state&&(this._state=null),this._unpatchedAudioContext.close())}},{key:"createAnalyser",value:function(){if("suspended"===this._state&&(this._state="running",null!==this._onStateChangeListener&&this._onStateChangeListener()),null===this._unpatchedAudioContext)throw j.create();var a=this._unpatchedAudioContext.createAnalyser();if("closed"===this.state)throw j.create();return 2===a.channelCount&&(a.channelCount=1),"function"!=typeof a.getFloatTimeDomainData&&(a=qn(a)),this._isSupportingChaining||(a=c.wrap(a)),this._isSupportingDisconnecting||(a=d.wrap(a)),a}},{key:"createBiquadFilter",value:function(){if("suspended"===this._state&&(this._state="running",null!==this._onStateChangeListener&&this._onStateChangeListener()),null===this._unpatchedAudioContext)throw j.create();var a=this._unpatchedAudioContext.createBiquadFilter();if("closed"===this.state)throw j.create();return this._isSupportingChaining||(a=c.wrap(a)),a}},{key:"createBuffer",value:function(a,c,d){"suspended"===this._state&&(this._state="running",null!==this._onStateChangeListener&&this._onStateChangeListener());var e=this._unpatchedAudioContext.createBuffer(a,c,d);return"function"!=typeof e.copyFromChannel&&(e=b.wrap(e)),e}},{key:"createBufferSource",value:function(){"suspended"===this._state&&(this._state="running",null!==this._onStateChangeListener&&this._onStateChangeListener());var b=this._unpatchedAudioContext.createBufferSource();return this._isSupportingStoppingOfStoppedNodes?this._isSupportingChaining?b:c.wrap(b):a.wrap(b)}},{key:"createChannelMerger",value:function(){if("suspended"===this._state&&(this._state="running",null!==this._onStateChangeListener&&this._onStateChangeListener()),null===this._unpatchedAudioContext)throw j.create();var a=this._unpatchedAudioContext.createChannelMerger.apply(this._unpatchedAudioContext,arguments);if("closed"===this.state)throw j.create();this._isSupportingChaining||(a=c.wrap(a)),1!==a.channelCount&&"explicit"!==a.channelCountMode&&(a=f.wrap(this._unpatchedAudioContext,a));try{a.channelCount=2,a=f.wrap(this._unpatchedAudioContext,a)}catch(a){}return a}},{key:"createChannelSplitter",value:function(){if("suspended"===this._state&&(this._state="running",null!==this._onStateChangeListener&&this._onStateChangeListener()),null===this._unpatchedAudioContext)throw j.create();var a=this._unpatchedAudioContext.createChannelSplitter.apply(this._unpatchedAudioContext,arguments);if("closed"===this.state)throw j.create();return this._isSupportingChaining||(a=c.wrap(a)),g.wrap(a)}},{key:"createGain",value:function(){if("suspended"===this._state&&(this._state="running",null!==this._onStateChangeListener&&this._onStateChangeListener()),null===this._unpatchedAudioContext)throw j.create();var a=this._unpatchedAudioContext.createGain();if("closed"===this.state)throw j.create();return this._isSupportingChaining||(a=c.wrap(a)),this._isSupportingDisconnecting||(a=d.wrap(a)),a}},{key:"createIIRFilter",value:function(a,b){if(null===this._unpatchedAudioContext&&"closed"===this.state)throw j.create();if(void 0===this._unpatchedAudioContext.createIIRFilter)return k.fake(a,b,this,this._unpatchedAudioContext);var c=this._unpatchedAudioContext.createIIRFilter(a,b);return this._isSupportingGetFrequencyResponseErrors||l.wrap(c),c}},{key:"createOscillator",value:function(){if("suspended"===this._state&&(this._state="running",null!==this._onStateChangeListener&&this._onStateChangeListener()),null===this._unpatchedAudioContext)throw j.create();var a=this._unpatchedAudioContext.createOscillator();if("closed"===this.state)throw j.create();return this._isSupportingChaining||(a=c.wrap(a)),a}},{key:"decodeAudioData",value:function(a,c,d){var e=this;return"suspended"===this._state&&(this._state="running",null!==this._onStateChangeListener&&this._onStateChangeListener()),this._isSupportingPromises?this._unpatchedAudioContext.decodeAudioData(a,c,function(a){"function"==typeof d&&d(void 0===a?i.create():a instanceof DOMException&&"NotSupportedError"===a.name?new TypeError:a)}).catch(function(a){if("function"==typeof d&&a instanceof TypeError&&d(a),a instanceof DOMException&&"NotSupportedError"===a.name)throw new TypeError;throw a}):new Promise(function(f,g){var h=function(a){"function"==typeof d&&d(a),g(a)},j=function(a){f(a),"function"==typeof c&&c(a)};try{e._unpatchedAudioContext.decodeAudioData(a,function(a){j("function"!=typeof a.copyFromChannel?b.wrap(a):a)},function(a){h(null===a?i.create():a)})}catch(a){h(a)}})}},{key:"currentTime",get:function(){return this._unpatchedAudioContext.currentTime},set:function(a){throw this._unpatchedAudioContext.currentTime=a,new TypeError}},{key:"destination",get:function(){return this._unpatchedAudioContext.destination},set:function(a){throw this._unpatchedAudioContext.destination=a,new TypeError}},{key:"onstatechange",get:function(){return"onstatechange"in this._unpatchedAudioContext?this._unpatchedAudioContext.onstatechange:this._onStateChangeListener},set:function(a){"onstatechange"in this._unpatchedAudioContext?this._unpatchedAudioContext.onstatechange=a:this._onStateChangeListener="function"==typeof a?a:null}},{key:"sampleRate",get:function(){return this._unpatchedAudioContext.sampleRate},set:function(a){throw this._unpatchedAudioContext.sampleRate=a,new TypeError}},{key:"state",get:function(){return null!==this._state?this._state:this._unpatchedAudioContext.state},set:function(a){throw void 0!==this._unpatchedAudioContext.state&&(this._unpatchedAudioContext.state=a),new TypeError}}]),p}();return p}},tn=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},vn=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":un(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},wn=function(a,b){return function(c,d){b(c,d,a)}},xn=function(){function a(b){$a(this,a),this._UnpatchedAudioContext=b}return tn(a,[{key:"test",value:function(){if(null===this._UnpatchedAudioContext)return Promise.resolve(!1);var a=new this._UnpatchedAudioContext,b=void 0;try{b=a.decodeAudioData(null,function(){}).catch(function(a){return a instanceof TypeError})}catch(a){return Promise.resolve(a instanceof TypeError)}return void 0===b?Promise.resolve(!1):b}}]),a}();xn=vn([Yg(),wn(0,Wg(mn))],xn);var yn=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},An=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"===("undefined"==typeof Reflect?"undefined":zn(Reflect))&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},Bn=function(a,b){return function(c,d){b(c,d,a)}},Cn=function(){function a(b){_a(this,a),this._UnpatchedAudioContext=b}return yn(a,[{key:"test",value:function(){if(null===this._UnpatchedAudioContext)return Promise.resolve(!1);var a=new this._UnpatchedAudioContext,b=a.createBufferSource(),c=a.createBuffer(2,2,a.sampleRate),d=a.createChannelMerger(2),e=a.createScriptProcessor(256);return new Promise(function(f){var g=void 0;c.getChannelData(0)[0]=1,c.getChannelData(0)[1]=1,c.getChannelData(1)[0]=1,c.getChannelData(1)[1]=1,b.buffer=c,b.loop=!0,e.onaudioprocess=function(b){for(var c=b.inputBuffer.getChannelData(1),d=0,e=c.length;d<e;d+=1)if(0!==c[d])return void f(!1);g+1/a.sampleRate<b.playbackTime&&f(!0)},b.connect(d,0,0),d.connect(e),e.connect(a.destination),g=a.currentTime,b.start(g)}).then(function(c){return b.stop(),b.disconnect(),d.disconnect(),e.disconnect(),a.close(),c})}}]),a}();Cn=An([Yg(),Bn(0,Wg(mn))],Cn);var Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},En=function(a,b,c){function d(a,b){return("undefined"==typeof a?"undefined":Dn(a))===b}function e(){var a,b,c,e,g,j,k;for(var l in f)if(f.hasOwnProperty(l)){if(a=[],b=f[l],b.name&&(a.push(b.name.toLowerCase()),b.options&&b.options.aliases&&b.options.aliases.length))for(c=0;c<b.options.aliases.length;c++)a.push(b.options.aliases[c].toLowerCase());for(e=d(b.fn,"function")?b.fn():b.fn,g=0;g<a.length;g++)j=a[g],k=j.split("."),1===k.length?h[k[0]]=e:(!h[k[0]]||h[k[0]]instanceof Boolean||(h[k[0]]=new Boolean(h[k[0]])),h[k[0]][k[1]]=e),i.push((e?"":"no-")+k.join("-"))}}var f=[],g={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(a,b){var c=this;setTimeout(function(){b(c[a])},0)},addTest:function(a,b,c){f.push({name:a,fn:b,options:c})},addAsyncTest:function(a){f.push({name:null,fn:a})}},h=function(){};h.prototype=g,h=new h;var i=[];h.addTest("promises",function(){return"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var b;return new a.Promise(function(a){b=a}),"function"==typeof b}()}),h.addTest("typedarrays","ArrayBuffer"in a),h.addTest("webaudio",function(){var b="webkitAudioContext"in a,c="AudioContext"in a;return h._config.usePrefixes?b||c:c}),e(),delete g.addTest,delete g.addAsyncTest;for(var j=0;j<h._q.length;j++)h._q[j]();return h}(window,document),Fn=new ah("MODERNIZR"),Gn={provide:Fn,useValue:En},Hn=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),In=new ah("IS_SUPPORTED_PROMISE"),Jn={deps:[xn,Cn,Fn],provide:In,useFactory:function(a,b,c){return c.promises&&c.typedarrays&&c.webaudio?Promise.all([b.test()]).then(function(a){var b=Hn(a,1),c=b[0];return c}):Promise.resolve(!1)}},Kn=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Ln=new ah("OFFLINE_AUDIO_CONTEXT_CONSTRUCTOR"),Mn={deps:[Lm,ql,ln,Hl,Ol,Vl,am,qm,im,dm],provide:Ln,useFactory:function(a,b,c,d,e,f,g,h,i,j){var k=function(){function k(a,b,c){ab(this,k);var d=new WeakMap,f=new j(a,b,c);this._destination=e.create({fakeNodeStore:d}),this._fakeNodeStore=d,this._isSupportingGetFrequencyResponseErrors=!1,this._isSupportingPromises=i.test(f),this._length=b,this._numberOfChannels=a,this._unpatchedOfflineAudioContext=f}return Kn(k,[{key:"createBiquadFilter",value:function(){return f.create({fakeNodeStore:this._fakeNodeStore,nativeNode:this._unpatchedOfflineAudioContext.createBiquadFilter()}).proxy}},{key:"createBuffer",value:function(a,b,c){return this._unpatchedOfflineAudioContext.createBuffer(a,b,c)}},{key:"createBufferSource",value:function(){return d.create({fakeNodeStore:this._fakeNodeStore}).proxy}},{key:"createGain",value:function(){return g.create({fakeNodeStore:this._fakeNodeStore}).proxy}},{key:"createIIRFilter",value:function(a,b){var d=null;return void 0!==this._unpatchedOfflineAudioContext.createIIRFilter&&(d=this._unpatchedOfflineAudioContext.createIIRFilter(a,b),this._isSupportingGetFrequencyResponseErrors||c.wrap(d)),h.create({fakeNodeStore:this._fakeNodeStore,feedback:b,feedforward:a,length:this.length,nativeNode:d,numberOfChannels:this._numberOfChannels,sampleRate:this._unpatchedOfflineAudioContext.sampleRate}).proxy}},{key:"decodeAudioData",value:function(c,d,e){var f=this;return this._isSupportingPromises?this._unpatchedOfflineAudioContext.decodeAudioData(c,d,function(a){"function"==typeof e&&e(void 0===a?b.create():a instanceof DOMException&&"NotSupportedError"===a.name?new TypeError:a)}).catch(function(a){if("function"==typeof e&&a instanceof TypeError&&e(a),a instanceof DOMException&&"NotSupportedError"===a.name)throw new TypeError;throw a}):new Promise(function(g,h){var i=function(a){"function"==typeof e&&e(a),h(a)},j=function(a){g(a),"function"==typeof d&&d(a)};try{f._unpatchedOfflineAudioContext.decodeAudioData(c,function(b){j("function"!=typeof b.copyFromChannel?a.wrap(b):b)},function(a){i(null===a?b.create():a)})}catch(a){i(a)}})}},{key:"startRendering",value:function(){var a=this;return this._destination.render(this._unpatchedOfflineAudioContext).then(function(){return a._isSupportingPromises?a._unpatchedOfflineAudioContext.startRendering():new Promise(function(b){a._unpatchedOfflineAudioContext.oncomplete=function(a){return b(a.renderedBuffer)},a._unpatchedOfflineAudioContext.startRendering()})})}},{key:"currentTime",get:function(){return this._unpatchedOfflineAudioContext.currentTime}},{key:"destination",get:function(){return this._destination.proxy}},{key:"length",get:function(){return void 0===this._unpatchedOfflineAudioContext.length?this._length:this._unpatchedOfflineAudioContext.length}},{key:"sampleRate",get:function(){return this._unpatchedOfflineAudioContext.sampleRate}}]),k}();return k}},Nn=Xh.resolveAndCreate([Pm,Lm,Tm,Xm,sn,zm,an,fn,xn,Dm,ql,vm,ln,ul,Jn,Cn,Gn,yl,Hl,Ol,Vl,am,qm,Mn,im,Hm,nn,em,cm]),On=(Nn.get(rn),Nn.get(In),Nn.get(Ln)),Pn=.9,Qn=30,Rn=.3,Sn=function(a){var b=[];return a.forEach(function(c,d){for(var e=function(e,f){var g=a[d+e]-c,h=b.some(function(a){return a.interval===g&&(a.count+=1,!0)});h||b.push({count:1,interval:g})},f=0,g=Math.min(a.length-d,10);f<g;f+=1)e(f,g)}),b},Tn=function(a,b,c){for(var d=[],e=0,f=a.length;e<f;e+=1)a[e]>b&&(d.push(e),e+=c/4-1);return d},Un=function(a,b){var c=[];return a.filter(function(a){return 0!==a.interval}).forEach(function(a){for(var d=60/(a.interval/b);d<90;)d*=2;for(;d>180;)d/=2;var e=c.some(function(b){return b.tempo===d&&(b.count+=a.count,!0)});e||c.push({count:a.count,tempo:d})}),c},Vn=function(a){var b=new On(a.numberOfChannels,a.length,a.sampleRate),c=b.createBiquadFilter(),d=b.createBufferSource();return c.frequency.value=200,c.type="lowpass",d.buffer=a,d.connect(c).connect(b.destination),d.start(0),b.startRendering().then(function(a){for(var b=[],c=Pn;b.length<Qn&&c>=Rn;)b=Tn(a.getChannelData(0),c,a.sampleRate),c-=.05;var d=Sn(b),e=Un(d,a.sampleRate);return e.sort(function(a,b){return b.count-a.count}),Math.round(e[0].tempo)})};a.analyze=Vn,Object.defineProperty(a,"__esModule",{value:!0})});